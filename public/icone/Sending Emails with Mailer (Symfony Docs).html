<!DOCTYPE html>
<!-- saved from url=(0043)https://symfony.com/doc/current/mailer.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="index, follow, all">
        <meta name="Author" content="Symfony">
                <meta name="Keywords" content="symfony3, symfony2, symfony, project, framework, php, php5, php7, php8, open-source, components, symphony, symfony framework, symfony tutorial">
        
        <link rel="preconnect" href="https://fonts.googleapis.com/">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
        <link rel="preconnect" href="https://www.google-analytics.com/">
        <link rel="preconnect" href="https://connect.symfony.com/">

                <link rel="stylesheet" href="./Sending Emails with Mailer (Symfony Docs)_files/sln.css"><title>Sending Emails with Mailer (Symfony Docs)</title>

                    <link rel="canonical" href="https://symfony.com/doc/current/mailer.html">
        
        <link rel="search" type="application/opensearchdescription+xml" href="https://symfony.com/opensearch/documentation.xml" title="Symfony documentation">

                        <link href="./Sending Emails with Mailer (Symfony Docs)_files/css2" rel="stylesheet">
            <link rel="stylesheet" href="./Sending Emails with Mailer (Symfony Docs)_files/new-app.4d0742ac.css">
            <link rel="stylesheet" href="./Sending Emails with Mailer (Symfony Docs)_files/new-search.5b984612.css">
        
    <link rel="stylesheet" href="./Sending Emails with Mailer (Symfony Docs)_files/code.03bf7086.css">
    <link rel="stylesheet" href="./Sending Emails with Mailer (Symfony Docs)_files/new-doc.d3bcb95e.css">

                        <script type="text/javascript" async="" src="./Sending Emails with Mailer (Symfony Docs)_files/ga.js.téléchargement"></script><script src="./Sending Emails with Mailer (Symfony Docs)_files/sln.js.téléchargement" id="sln_bar" defer=""></script><script src="./Sending Emails with Mailer (Symfony Docs)_files/runtime.8a677fde.js.téléchargement"></script><script src="./Sending Emails with Mailer (Symfony Docs)_files/new-app.521f89df.js.téléchargement"></script>
            <script src="./Sending Emails with Mailer (Symfony Docs)_files/468.e290d697.js.téléchargement"></script><script src="./Sending Emails with Mailer (Symfony Docs)_files/new-search.97b48140.js.téléchargement"></script>
        
    <script src="./Sending Emails with Mailer (Symfony Docs)_files/code.6d6b2123.js.téléchargement"></script>
    <script src="./Sending Emails with Mailer (Symfony Docs)_files/new-doc.0a6744c2.js.téléchargement"></script>

        <script>
            window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
            ga('create', 'UA-89393-6', 'auto');
            ga('send', 'pageview');
            ga('set', 'anonymizeIp', true);
        </script>
        <script async="" defer="" src="./Sending Emails with Mailer (Symfony Docs)_files/analytics.js.téléchargement"></script>
        <script type="text/javascript">
            window.addEventListener('DOMContentLoaded', function () {
                let js, fjs = document.getElementsByTagName('script')[0], load = function(url, id) {
                    if (document.getElementById(id)) { return; }
                    js = document.createElement('script'); js.src = url; js.id = id; js.defer = true;
                    fjs.parentNode.insertBefore(js, fjs);
                };
                load('https://connect.symfony.com/sln.js?customize_url=https://symfony.com/account/sln_customiser.js', 'sln_bar');

                let s = document.createElement('link');
                s.rel = 'stylesheet';
                s.href = 'https://connect.symfony.com/css/sln.css';
                let x = document.getElementsByTagName('title')[0];
                x.parentNode.insertBefore(s, x);
            });
        </script>

        <link rel="shortcut icon" type="image/svg+xml" href="https://symfony.com/favicons/favicon.svg">
        <link rel="alternate icon" type="image/png" sizes="16x16" href="https://symfony.com/favicons/favicon-16x16.png">
        <link rel="mask-icon" href="https://symfony.com/favicons/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="apple-touch-icon" sizes="180x180" href="https://symfony.com/favicons/apple-touch-icon.png">
        <link rel="manifest" href="https://symfony.com/static/webmanifest.json">
        <meta name="msapplication-config" content="/static/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">
        <meta name="apple-mobile-web-app-title" content="Symfony">

        <meta property="fb:pages" content="211720082183067">
        <meta name="twitter:site" content="@symfony">
                    <meta name="twitter:card" content="summary_large_image">
        
                    <meta property="og:type" content="website">
            <meta property="og:title" content="Sending Emails with Mailer (Symfony Docs)">
            <meta property="og:image" content="https://symfony.com/images/opengraph/symfony.png">

                    
        <meta name="msapplication-TileColor" content="#262626">
        <meta name="application-name" content="Symfony">
        <meta name="msapplication-tooltip" content="Official Symfony website">

        <meta name="theme-color" content="#262626">

            <script id="_carbonads_projs" type="text/javascript" src="./Sending Emails with Mailer (Symfony Docs)_files/CKYILK3J.json"></script></head>

    <body class="dark-theme windows" data-doc-book="symfony" data-doc-page="mailer">
        <script>
            if (null === localStorage.getItem('themeName') || 'dynamic-theme' === localStorage.getItem('themeName')) {
                document.body.classList.add(matchMedia('(prefers-color-scheme: dark)').matches ? 'dark-theme' : 'light-theme');
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                    document.body.classList.remove('light-theme', 'dark-theme');
                    document.body.classList.add(e.matches ? 'dark-theme' : 'light-theme');
                });
            } else {
                document.body.classList.add(localStorage.getItem('themeName'));
            }

            document.body.classList.add(
                (navigator.appVersion.indexOf('Win') !== -1) ? 'windows' : (navigator.appVersion.indexOf('Mac') !== -1) ? 'macos' : 'linux'
            );
        </script>

        <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"WebSite","name":"Symfony","url":"https:\/\/symfony.com","potentialAction":{"@type":"SearchAction","target":"https:\/\/symfony.com\/search?q={query}","query-input":"required name=query"}}</script>
        <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Organization","url":"https:\/\/symfony.com","name":"Symfony","logo":"\/images\/logos\/sf-positive.svg","sameAs":["https:\/\/github.com\/symfony","https:\/\/stackoverflow.com\/questions\/tagged\/symfony","https:\/\/twitter.com\/symfony","https:\/\/www.facebook.com\/SymfonyFramework","https:\/\/www.youtube.com\/user\/SensioLabs"]}</script>

        <div id="sln"><div class="sln-bar">
    <div class="sln-bar-inner">
        <div class="sln-network">
            <a href="https://symfony.com/doc/current/mailer.html#" title="Toggle Symfony menu" class="sln-hidden-phone">Symfony<span>Hub</span></a>
            <a href="https://symfony.com/doc/current/mailer.html#" title="Toggle Symfony menu" class="sln-visible-phone">SF<span>H</span></a>
        </div> <div class="sln-ad">
    <a href="https://symfony.com/cloud/" data-ga="SymfonyCloud" class="sln-visible-phone"><img src="./Sending Emails with Mailer (Symfony Docs)_files/8545163b-108e-43e8-8d0e-0ecb89c253a3.png" alt="SymfonyCloud icon" width="30" height="30">SymfonyCloud</a>
    <a href="https://symfony.com/cloud/" data-ga="SymfonyCloud" class="sln-visible-tablet"><img src="./Sending Emails with Mailer (Symfony Docs)_files/8545163b-108e-43e8-8d0e-0ecb89c253a3.png" alt="SymfonyCloud icon" width="30" height="30">SymfonyCloud hosts your Symfony project</a>
    <a href="https://symfony.com/cloud/" data-ga="SymfonyCloud" class="sln-visible-desktop"><img src="./Sending Emails with Mailer (Symfony Docs)_files/8545163b-108e-43e8-8d0e-0ecb89c253a3.png" alt="SymfonyCloud icon" width="30" height="30">SymfonyCloud: The best way to host your Symfony project</a>
</div>
 <div class="sln-search">
    <div class="sln-search-deactivated"><a href="https://symfony.com/doc/current/mailer.html#" title="Search"><img loading="eager" alt="Search icon" src="./Sending Emails with Mailer (Symfony Docs)_files/search.57cabb3d.png"></a></div>
    <div class="sln-search-activated sln-hidden">
        <a href="https://symfony.com/doc/current/mailer.html#" title="Search"><img loading="lazy" alt="Search icon" src="./Sending Emails with Mailer (Symfony Docs)_files/search-alt.6545f012.png"></a>
        <form method="GET" action="https://symfony.com/search">
            <input name="q" id="sln-autocomplete" autocomplete="off" type="text" title="Search terms" aria-label="Search terms" placeholder="Search">
            <button class="sr-only">Search</button>
        </form>
    </div>
</div>
 <div class="sln-user">     <a href="https://symfony.com/connect/login?target=https://symfony.com/doc/current/mailer.html" class="sln-connect"> Connect </a>
 </div>

    </div>
    <div class="sln-dropdown-network sln-dropdown sln-hidden">
    <div class="sln-container">
        <div class="sln-row">
            <div class="sln-span6">
                <div class="sln-row">
                    <div class="sln-span3">
                        <img loading="lazy" src="./Sending Emails with Mailer (Symfony Docs)_files/sensiolabs.3449a069.png" alt="SensioLabs">
                        <p>Since 1998, SensioLabs has been promoting the Open-Source software movement by providing quality and performant web application development products, trainings,  and consulting. SensioLabs also supports multiple important Open-Source projects.</p>
                        <ul class="sln-websites">
                            <li><a data-ga="sln_sl_international" href="https://sensiolabs.com/en">International</a></li>
                            <li><a data-ga="sln_sl_FR" href="https://sensiolabs.com/fr">France</a></li>
                        </ul>
                    </div>
                    <div class="sln-span3 sln-ads">
                        <h2>In the Spotlight</h2>
                        <div>
                            <a data-ga="sln_insight_thumb" href="https://insight.symfony.com/" alt="SymfonyInsight, PHP Project Quality Done Right">
                                <img loading="lazy" src="./Sending Emails with Mailer (Symfony Docs)_files/symfonyinsight.a9eeeb57.png" alt="SymfonyInsight" style="width: 226px">
                            </a>
                        </div>
                        <div>
                            <a data-ga="sln_blackfire_thumb" href="https://blackfire.io/?utm_source=symfony&amp;utm_medium=banner&amp;utm_campaign=profiler" alt="Blackfire, Fire up your PHP App Performance">
                                <img loading="lazy" src="./Sending Emails with Mailer (Symfony Docs)_files/blackfire.71eb8f63.png" alt="Blackfire">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sln-span6 sln-products-listing sln-right-box">
                <div class="sln-row">
                    <div class="sln-span3">
                        <h2>Open Source</h2>
                        <ul>
                            <li><a data-ga="sln_sf" href="https://symfony.com/">Symfony - Web framework</a></li>
                            <li><a data-ga="sln_twig" href="https://twig.symfony.com/" alt="Twig, The flexible, fast, and secure template engine for PHP">Twig - Templating</a></li>
                            <li><a data-ga="sln_polyfill" href="https://github.com/symfony/polyfill" alt="Polyfills for common PHP extensions">PHP Polyfills</a></li>
                        </ul>
                    </div>
                    <div class="sln-span3">
                        <h2>Products</h2>
                        <ul>
                            <li><a data-ga="sln_insight" href="https://insight.symfony.com/" alt="SymfonyInsight, PHP Project Quality Done Right">Insight: PHP Quality</a></li>
                            <li><a data-ga="sln_profiler" href="https://blackfire.io/?utm_source=symfony&amp;utm_medium=banner&amp;utm_campaign=profiler" alt="Blackfire, Fire up your PHP App Performance">Blackfire: Web App performance</a></li>
                            <li><a data-ga="sln_symfonycloud" href="https://symfony.com/cloud" alt="SymfonyCloud, Describe your infrastructure and deploy continuously">SymfonyCloud: PaaS for Symfony</a></li>
                        </ul>
                    </div>
                </div>
                <div class="sln-row">
                    <div class="sln-span3">
                        <h2>Solutions &amp; Services</h2>
                        <ul>
                            <li><a data-ga="sln_training" href="https://training.sensiolabs.com/">Training</a></li>
                            <li><a data-ga="sln_certification" href="https://certification.symfony.com/">Certification</a></li>
                            <li><a data-ga="sln_services" href="https://sensiolabs.com/solutions">Technical Solutions</a></li>
                            <li><a data-ga="sln_university" href="https://university.sensiolabs.com/">SensioLabs University</a></li>
                            <li><a data-ga="sln_experts" href="https://expert.sensiolabs.com/">Experts</a></li>
                        </ul>
                    </div>
                    <div class="sln-span3">
                        <h2>Community</h2>
                        <ul>
                            <li><a data-ga="sln_connect" href="https://connect.symfony.com/">Community</a></li>
                            <li><a data-ga="sln_live" href="https://live.symfony.com/">Conferences</a></li>
                            <li><a data-ga="sln_store" href="https://shop.symfony.com/">Store</a></li>
                            <li><a data-ga="sln_youtube" href="https://www.youtube.com/symfonytv">Videos</a></li>
                            <li><a data-ga="sln_partners" href="https://network.sensiolabs.com/en/">Partners</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="sln-right-box sln-our-blogs">
                <div class="sln-row ">
                    <div class="sln-span5">
                        <h2>Blogs</h2>&nbsp;&nbsp;&nbsp;
                        <a href="https://symfony.com/blog/">Symfony</a>,
                        <a href="https://blog.sensiolabs.com/">SensioLabs</a>,
                        <a href="https://blog.insight.symfony.com/">Insight</a>,
                        and <a href="https://blog.blackfire.io/?utm_source=symfony&amp;utm_medium=banner&amp;utm_campaign=profiler">Blackfire</a>.
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    
</div>
</div>

                    <header>
                <section class="header__top">
                    <div class="container-xxl">
                        <div class="header__logo">
                            <a href="https://symfony.com/">
                                <img loading="eager" height="41" width="160" src="./Sending Emails with Mailer (Symfony Docs)_files/header-logo.svg" alt="Symfony">
                            </a>
                        </div>
                        <div class="sensiolabs-sponsor hidden-xs">
                            <span class="sponsored-by text-muted text-small block">sponsored by</span>
                            <a class="logo-sensiolabs" target="_blank" rel="external noopener noreferrer" href="https://sensiolabs.com/" title="SensioLabs, PHP services and software solutions for enterprise and community.">
                                Sensio<span>Labs</span>
                            </a>
                        </div>
                    </div>
                </section>

                <section class="header__bottom" data-spy="affix" data-offset-top="90">
                    <div class="container-xxl">
                        <nav class="header__nav">
                            <ul>
                                
        <li id="menu-what-is-symfony">
        <a href="https://symfony.com/what-is-symfony">
                        About
        </a>
    </li>
            <li id="menu-learn">
        <a href="https://symfony.com/doc/current/index.html">
                        Documentation
        </a>
    </li>
            <li id="menu-screencasts">
        <a href="https://symfonycasts.com/">
                        Screencasts
        </a>
    </li>
            <li id="menu-cloud">
        <a href="https://symfony.com/cloud/">
            <svg focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path fill="currentColor" d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"></path></svg>
            Cloud
        </a>
    </li>
            <li id="menu-certification">
        <a href="https://certification.symfony.com/">
                        Certification
        </a>
    </li>
            <li id="menu-community">
        <a href="https://symfony.com/community">
                        Community
        </a>
    </li>
            <li id="menu-services">
        <a href="https://sensiolabs.com/">
                        Businesses
        </a>
    </li>
            <li id="menu-news">
        <a href="https://symfony.com/blog/">
                        News
        </a>
    </li>
    
                                <li class="hidden-xs header__download">
                                    <a href="https://symfony.com/download">Download</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </section>
            </header>
        
                                <div class="highlight-top-horizontal">
                <style>
    .conference-highlights {
        background: rgb(88, 66, 145);
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        font-size: 16px;
        position: relative;
        width: 100%;
    }
    .conference-highlights:hover { background: rgb(105, 79, 171); }
    .conference-highlights a::after { content: ''; position: absolute; top: 0; left: 0; height: 100%; width: 100%; }
    .conference-highlight { align-items: center; display: flex; flex-wrap: nowrap; padding: 12px 0; }
    a.conference-name, a.conference-name:hover { color: #fbbf24; font-weight: 600; }
    .conference-data { color: #ddd6fe; display: none; font-size: 14px; margin-left: 30px; }

    @media (min-width: 768px) {
        .conference-data { display: block; margin-left: 20px; }
    }
</style>

<div class="conference-highlights">
    <div class="container-xxl">
        <div class="conference-highlight">
            <a class="conference-name" href="https://live.symfony.com/2021-world-winter/">
                SymfonyWorld Online 2021 Winter Edition
            </a>

            <span class="conference-data">
                December 9 – 10, 2021
            </span>

            <span class="conference-data">
                100% Online
            </span>

            <span class="conference-data">
                +20 talks and workshops
            </span>
        </div>
    </div>
</div>

            </div>
        
    
                                    <nav aria-label="breadcrumb">
                    <div class="container-xxl">
                        <ol class="breadcrumb">
                                                            <li class="breadcrumb-item ">
                                    <a translate="no" href="https://symfony.com/">Home</a>
                                </li>
                                                            <li class="breadcrumb-item ">
                                    <a translate="no" href="https://symfony.com/doc/current/index.html">Documentation</a>
                                </li>
                                                            <li class="breadcrumb-item active">
                                    <a translate="no" href="https://symfony.com/doc/current/mailer.html">Sending Emails with Mailer</a>
                                </li>
                                                    </ol>
                    </div>
                </nav>
            
            <main>
                <div class="container-xxl">
                    <div class="main-content">
                            
    <section class="layout-block-main-title">
    <h1 class="title">                        Sending Emails with Mailer
        </h1>
</section>

            
    <div class="doc-actions">
        <div class="doc-action branch-selector">
            <span class="label">Version:</span>
            <span class="current-version">current</span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="16" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>

                <ul class="available-branches">
                                            <li>
                            <b>Maintained</b> versions
                                <ul class="branches">
                    <li class="">
                                    <a href="https://symfony.com/doc/4.4/mailer.html">4.4</a>
                                                </li>
                    <li class="active">
                                    <a href="https://symfony.com/doc/current/mailer.html">5.3</a>
                                            <span class="alias">current</span>
                                                </li>
                    <li class="">
                                    <a href="https://symfony.com/doc/5.4/mailer.html">5.4</a>
                                            <span class="alias">dev</span>
                                                </li>
                    <li class="">
                                    <a href="https://symfony.com/doc/6.0/mailer.html">6.0</a>
                                                </li>
            </ul>

                        </li>
                                                                <li>
                            <b>Unmaintained</b> versions
                                <ul class="branches">
                    <li class="">
                                    <a href="https://symfony.com/doc/4.3/mailer.html">4.3</a>
                                                </li>
                    <li class="">
                                    <a href="https://symfony.com/doc/5.0/mailer.html">5.0</a>
                                                </li>
                    <li class="">
                                    <a href="https://symfony.com/doc/5.1/mailer.html">5.1</a>
                                                </li>
                    <li class="">
                                    <a href="https://symfony.com/doc/5.2/mailer.html">5.2</a>
                                                </li>
            </ul>

                        </li>
                                    </ul>
                    </div>

                    <a class="doc-action content-edit" href="https://github.com/symfony/symfony-docs/edit/5.3//mailer.rst">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="18" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                </svg>
                Edit this page
            </a>
            </div>


    <section class="layout-grid-main-sidebar ">
    <article class="main">            
            
            <section class="layout-prose ">
    <article class="prose">                                                                <div class="toctree-wrapper toctree-programmatic toctree-size-xl">
                                <ul class="toctree toctree-level-1 toctree-length-12">
                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#installation">Installation</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#transport-setup">Transport Setup</a>

                        <ul class="toctree toctree-level-2 toctree-length-6">
                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#using-built-in-transports">Using Built-in Transports</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#using-a-3rd-party-transport">Using a 3rd Party Transport</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#high-availability">High Availability</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#load-balancing">Load Balancing</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#tls-peer-verification">TLS Peer Verification</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#other-options">Other Options</a>

            </li>

            </ul>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#creating-sending-messages">Creating &amp; Sending Messages</a>

                        <ul class="toctree toctree-level-2 toctree-length-5">
                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#email-addresses">Email Addresses</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#message-headers">Message Headers</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#message-contents">Message Contents</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#file-attachments">File Attachments</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#embedding-images">Embedding Images</a>

            </li>

            </ul>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#configuring-emails-globally">Configuring Emails Globally</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#handling-sending-failures">Handling Sending Failures</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#debugging-emails">Debugging Emails</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#twig-html-css">Twig: HTML &amp; CSS</a>

                        <ul class="toctree toctree-level-2 toctree-length-6">
                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#html-content">HTML Content</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#text-content">Text Content</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#embedding-images">Embedding Images</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#inlining-css-styles">Inlining CSS Styles</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#rendering-markdown-content">Rendering Markdown Content</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#inky-email-templating-language">Inky Email Templating Language</a>

            </li>

            </ul>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#signing-and-encrypting-messages">Signing and Encrypting Messages</a>

                        <ul class="toctree toctree-level-2 toctree-length-2">
                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#signing-messages">Signing Messages</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#encrypting-messages">Encrypting Messages</a>

            </li>

            </ul>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#multiple-email-transports">Multiple Email Transports</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#sending-messages-async">Sending Messages Async</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#adding-tags-and-metadata-to-emails">Adding Tags and Metadata to Emails</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#development-debugging">Development &amp; Debugging</a>

                        <ul class="toctree toctree-level-2 toctree-length-2">
                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#disabling-delivery">Disabling Delivery</a>

            </li>

                        <li>
        <a href="https://symfony.com/doc/current/mailer.html#always-send-to-the-same-address">Always Send to the same Address</a>

            </li>

            </ul>

            </li>

            </ul>

                        </div>

                                <details id="floating-toc" style="display: none">
        <summary aria-label="Table of Contents" role="button">
            <svg height="16" viewBox="0 0 16 16" width="16" aria-hidden="true"><path fill="currentColor" fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>
            <span class="label">Table of Contents</span>
        </summary>
            </details>

                    
                    
            <div class="section">
<h1 id="sending-emails-with-mailer"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#sending-emails-with-mailer" title="Permalink to this headline">Sending Emails with Mailer</a></h1>
<div class="section">
<h2 id="installation"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#installation" title="Permalink to this headline">Installation</a></h2>
<p>Symfony's Mailer &amp; <a href="https://symfony.com/doc/current/components/mime.html" class="reference internal">Mime</a> components form a <em>powerful</em> system
for creating and sending emails - complete with support for multipart messages, Twig
integration, CSS inlining, file attachments and a lot more. Get them installed with:</p>
<div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-terminal codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-prompt">$ </span>composer require symfony/mailer</code></pre>
    </div>
</div>
<span id="mailer-transport-setup"></span>
</div>
<div class="section">
<h2 id="transport-setup"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#transport-setup" title="Permalink to this headline">Transport Setup</a></h2>
<p>Emails are delivered via a "transport". Out of the box, you can deliver emails
over SMTP by configuring the DSN in your <code translate="no" class="notranslate">.env</code> file (the <code translate="no" class="notranslate">user</code>,
<code translate="no" class="notranslate">pass</code> and <code translate="no" class="notranslate">port</code> parameters are optional):</p>
<div translate="no" data-loc="2" class="notranslate codeblock codeblock-length-sm codeblock-env codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># .env</span>
MAILER_DSN=smtp://user:pass@smtp.example.com:port</code></pre>
    </div>
</div>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="4" class="notranslate codeblock codeblock-length-sm codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/mailer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">mailer:</span>
        <span class="hljs-attr">dsn:</span> <span class="hljs-string">'%env(MAILER_DSN)%'</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="13" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/mailer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:mailer</span> <span class="hljs-attr">dsn</span>=<span class="hljs-string">"%env(MAILER_DSN)%"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="10" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/mailer.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">DependencyInjection</span>\<span class="hljs-title">Loader</span>\<span class="hljs-title">Configurator</span>\<span class="hljs-title">ContainerConfigurator</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ContainerConfigurator <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span>)</span>: <span class="hljs-title">void</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>containerConfigurator</span><span class="hljs-operator">-&gt;</span>extension(<span class="hljs-string">'framework'</span>, [
        <span class="hljs-string">'mailer'</span> =&gt; [
            <span class="hljs-string">'dsn'</span> =&gt; <span class="hljs-string">'%env(MAILER_DSN)%'</span>,
        ],
    ]);
};</code></pre>
    </div>
</div>
        </div>
    </div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Caution</span>
    </p><p>If the username, password or host contain any character considered special in a
URI (such as <code translate="no" class="notranslate">+</code>, <code translate="no" class="notranslate">@</code>, <code translate="no" class="notranslate">$</code>, <code translate="no" class="notranslate">#</code>, <code translate="no" class="notranslate">/</code>, <code translate="no" class="notranslate">:</code>, <code translate="no" class="notranslate">*</code>, <code translate="no" class="notranslate">!</code>), you must
encode them. See <a href="https://www.ietf.org/rfc/rfc3986.txt" class="reference external" rel="external noopener noreferrer" target="_blank">RFC 3986</a> for the full list of reserved characters or use the
<a href="https://secure.php.net/manual/en/function.urlencode.php" class="reference external" title="urlencode" rel="external noopener noreferrer" target="_blank">urlencode</a> function to encode them.</p>
</div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Caution</span>
    </p><p>If you are migrating from Swiftmailer (and the Swiftmailer bundle), be
warned that the DSN format is different.</p>
</div>
<div class="section">
<h3 id="using-built-in-transports"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#using-built-in-transports" title="Permalink to this headline">Using Built-in Transports</a></h3>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>The native protocol was introduced in Symfony 5.2.</p>
</div>
<div class="table-wrapper">
<table><thead><tr><th>DSN protocol</th>
                                            <th>Example</th>
                                            <th>Description</th>
                                    </tr></thead><tbody><tr><td>smtp</td>
                                    <td><code translate="no" class="notranslate">smtp://user:pass@smtp.example.com:25</code></td>
                                    <td>Mailer uses an SMTP server to send emails</td>
                            </tr><tr><td>sendmail</td>
                                    <td><code translate="no" class="notranslate">sendmail://default</code></td>
                                    <td>Mailer uses the local sendmail binary to send emails</td>
                            </tr><tr><td>native</td>
                                    <td><code translate="no" class="notranslate">native://default</code></td>
                                    <td>Mailer uses the sendmail binary and options configured
in the <code translate="no" class="notranslate">sendmail_path</code> setting of <code translate="no" class="notranslate">php.ini</code>. On Windows
hosts, Mailer fallbacks to <code translate="no" class="notranslate">smtp</code> and <code translate="no" class="notranslate">smtp_port</code>
<code translate="no" class="notranslate">php.ini</code> settings when <code translate="no" class="notranslate">sendmail_path</code> is not configured.</td>
                            </tr></tbody></table></div>
</div>
<div class="section">
<h3 id="using-a-3rd-party-transport"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#using-a-3rd-party-transport" title="Permalink to this headline">Using a 3rd Party Transport</a></h3>
<p>Instead of using your own SMTP server or sendmail binary, you can send emails via a 3rd party
provider. Mailer supports several - install whichever you want:</p>
<div class="table-wrapper">
<table><thead><tr><th>Service</th>
                                            <th>Install with</th>
                                    </tr></thead><tbody><tr><td>Amazon SES</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/amazon-mailer</code></td>
                            </tr><tr><td>Gmail</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/google-mailer</code></td>
                            </tr><tr><td>MailChimp</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/mailchimp-mailer</code></td>
                            </tr><tr><td>Mailgun</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/mailgun-mailer</code></td>
                            </tr><tr><td>Mailjet</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/mailjet-mailer</code></td>
                            </tr><tr><td>Postmark</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/postmark-mailer</code></td>
                            </tr><tr><td>SendGrid</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/sendgrid-mailer</code></td>
                            </tr><tr><td>Sendinblue</td>
                                    <td><code translate="no" class="notranslate">composer require symfony/sendinblue-mailer</code></td>
                            </tr></tbody></table></div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>The Sendinblue integration was introduced in Symfony 5.2.</p>
</div>
<p>Each library includes a <a href="https://symfony.com/doc/current/setup.html#symfony-flex" class="reference internal">Symfony Flex recipe</a> that will add
a configuration example to your <code translate="no" class="notranslate">.env</code> file. For example, suppose you want to
use SendGrid. First, install it:</p>
<div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-terminal codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-prompt">$ </span>composer require symfony/sendgrid-mailer</code></pre>
    </div>
</div>
<p>You'll now have a new line in your <code translate="no" class="notranslate">.env</code> file that you can uncomment:</p>
<div translate="no" data-loc="2" class="notranslate codeblock codeblock-length-sm codeblock-env codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># .env</span>
MAILER_DSN=sendgrid://KEY@default</code></pre>
    </div>
</div>
<p>The <code translate="no" class="notranslate">MAILER_DSN</code> isn't a <em>real</em> address: it's a convenient format that
offloads most of the configuration work to mailer. The <code translate="no" class="notranslate">sendgrid</code> scheme
activates the SendGrid provider that you just installed, which knows all about
how to deliver messages via SendGrid. The <em>only</em> part you need to change is the
<code translate="no" class="notranslate">KEY</code> placeholder.</p>
<p>Each provider has different environment variables that the Mailer uses to
configure the <em>actual</em> protocol, address and authentication for delivery. Some
also have options that can be configured with query parameters at the end of the
<code translate="no" class="notranslate">MAILER_DSN</code> - like <code translate="no" class="notranslate">?region=</code> for Amazon SES or Mailgun. Some providers support
sending via <code translate="no" class="notranslate">http</code>, <code translate="no" class="notranslate">api</code> or <code translate="no" class="notranslate">smtp</code>. Symfony chooses the best available
transport, but you can force to use one:</p>
<div translate="no" data-loc="3" class="notranslate codeblock codeblock-length-sm codeblock-env codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># .env</span>
<span class="hljs-comment"># force to use SMTP instead of HTTP (which is the default)</span>
MAILER_DSN=sendgrid+smtp://<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>SENDGRID_KEY</span>@default</code></pre>
    </div>
</div>
<p>This table shows the full list of available DSN formats for each third
party provider:</p>
<div class="table-wrapper">
<table><thead><tr><th>Provider</th>
                                            <th>SMTP</th>
                                            <th>HTTP</th>
                                            <th>API</th>
                                    </tr></thead><tbody><tr><td>Amazon SES</td>
                                    <td><a href="ses+smtp://USERNAME:PASSWORD@default" class="reference external">ses+smtp://USERNAME:PASSWORD@default</a></td>
                                    <td><a href="ses+https://ACCESS_KEY:SECRET_KEY@default" class="reference external">ses+https://ACCESS_KEY:SECRET_KEY@default</a></td>
                                    <td><a href="ses+api://ACCESS_KEY:SECRET_KEY@default" class="reference external">ses+api://ACCESS_KEY:SECRET_KEY@default</a></td>
                            </tr><tr><td>Google Gmail</td>
                                    <td><a href="gmail+smtp://USERNAME:PASSWORD@default" class="reference external">gmail+smtp://USERNAME:PASSWORD@default</a></td>
                                    <td>n/a</td>
                                    <td>n/a</td>
                            </tr><tr><td>Mailchimp Mandrill</td>
                                    <td><a href="mandrill+smtp://USERNAME:PASSWORD@default" class="reference external">mandrill+smtp://USERNAME:PASSWORD@default</a></td>
                                    <td><a href="mandrill+https://KEY@default" class="reference external">mandrill+https://KEY@default</a></td>
                                    <td><a href="mandrill+api://KEY@default" class="reference external">mandrill+api://KEY@default</a></td>
                            </tr><tr><td>Mailgun</td>
                                    <td><a href="mailgun+smtp://USERNAME:PASSWORD@default" class="reference external">mailgun+smtp://USERNAME:PASSWORD@default</a></td>
                                    <td><a href="mailgun+https://KEY:DOMAIN@default" class="reference external">mailgun+https://KEY:DOMAIN@default</a></td>
                                    <td><a href="mailgun+api://KEY:DOMAIN@default" class="reference external">mailgun+api://KEY:DOMAIN@default</a></td>
                            </tr><tr><td>Mailjet</td>
                                    <td><a href="mailjet+smtp://ACCESS_KEY:SECRET_KEY@default" class="reference external">mailjet+smtp://ACCESS_KEY:SECRET_KEY@default</a></td>
                                    <td>n/a</td>
                                    <td><a href="mailjet+api://ACCESS_KEY:SECRET_KEY@default" class="reference external">mailjet+api://ACCESS_KEY:SECRET_KEY@default</a></td>
                            </tr><tr><td>Postmark</td>
                                    <td><a href="postmark+smtp://ID@default" class="reference external">postmark+smtp://ID@default</a></td>
                                    <td>n/a</td>
                                    <td><a href="postmark+api://KEY@default" class="reference external">postmark+api://KEY@default</a></td>
                            </tr><tr><td>Sendgrid</td>
                                    <td><a href="sendgrid+smtp://KEY@default" class="reference external">sendgrid+smtp://KEY@default</a></td>
                                    <td>n/a</td>
                                    <td><a href="sendgrid+api://KEY@default" class="reference external">sendgrid+api://KEY@default</a></td>
                            </tr><tr><td>Sendinblue</td>
                                    <td><a href="sendinblue+smtp://USERNAME:PASSWORD@default" class="reference external">sendinblue+smtp://USERNAME:PASSWORD@default</a></td>
                                    <td>n/a</td>
                                    <td><a href="sendinblue+api://KEY@default" class="reference external">sendinblue+api://KEY@default</a></td>
                            </tr></tbody></table></div>
<div class="admonition admonition-caution ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span>Caution</span>
    </p><p>If your credentials contain special characters, you must URL-encode them.
For example, the DSN <code translate="no" class="notranslate">ses+smtp://ABC1234:abc+12/345@default</code> should be
configured as <code translate="no" class="notranslate">ses+smtp://ABC1234:abc%2B12%2F345@default</code></p>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span>Note</span>
    </p><p>When using SMTP, the default timeout for sending a message before throwing an
exception is the value defined in the <a href="https://www.php.net/manual/en/filesystem.configuration.php#ini.default-socket-timeout" class="reference external" rel="external noopener noreferrer" target="_blank">default_socket_timeout</a> PHP.ini option.</p>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.1</span>
    </p><p>The usage of <code translate="no" class="notranslate">default_socket_timeout</code> as the default timeout was
introduced in Symfony 5.1.</p>
</div>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><span>Tip</span>
    </p><p>If you want to override the default host for a provider (to debug an issue using
a service like <code translate="no" class="notranslate">requestbin.com</code>), change <code translate="no" class="notranslate">default</code> by your host:</p>
<div translate="no" data-loc="3" class="notranslate codeblock codeblock-length-sm codeblock-env codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># .env</span>
MAILER_DSN=mailgun+https://KEY:DOMAIN@requestbin.com
MAILER_DSN=mailgun+https://KEY:DOMAIN@requestbin.com:99</code></pre>
    </div>
</div>
<p>Note that the protocol is <em>always</em> HTTPs and cannot be changed.</p>
</div>
</div>
<div class="section">
<h3 id="high-availability"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#high-availability" title="Permalink to this headline">High Availability</a></h3>
<p>Symfony's mailer supports <a href="https://en.wikipedia.org/wiki/High_availability" class="reference external" rel="external noopener noreferrer" target="_blank">high availability</a> via a technique called "failover"
to ensure that emails are sent even if one mailer server fails.</p>
<p>A failover transport is configured with two or more transports and the
<code translate="no" class="notranslate">failover</code> keyword:</p>
<div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-env codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code>MAILER_DSN=<span class="hljs-string">"failover(postmark+api://ID@default sendgrid+smtp://KEY@default)"</span></code></pre>
    </div>
</div>
<p>The failover-transport starts using the first transport and if it fails, it
will retry the same delivery with the next transports until one of them succeeds
(or until all of them fail).</p>
</div>
<div class="section">
<h3 id="load-balancing"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#load-balancing" title="Permalink to this headline">Load Balancing</a></h3>
<p>Symfony's mailer supports <a href="https://en.wikipedia.org/wiki/Load_balancing_(computing)" class="reference external" rel="external noopener noreferrer" target="_blank">load balancing</a> via a technique called "round-robin"
to distribute the mailing workload across multiple transports.</p>
<p>A round-robin transport is configured with two or more transports and the
<code translate="no" class="notranslate">roundrobin</code> keyword:</p>
<div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-env codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code>MAILER_DSN=<span class="hljs-string">"roundrobin(postmark+api://ID@default sendgrid+smtp://KEY@default)"</span></code></pre>
    </div>
</div>
<p>The round-robin transport starts with a <em>randomly</em> selected transport and
then switches to the next available transport for each subsequent email.</p>
<p>As with the failover transport, round-robin retries deliveries until
a transport succeeds (or all fail). In contrast to the failover transport,
it <em>spreads</em> the load across all its transports.</p>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.1</span>
    </p><p>The random selection of the first transport was introduced in Symfony 5.1.
In previous Symfony versions the first transport was always selected first.</p>
</div>
</div>
<div class="section">
<h3 id="tls-peer-verification"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#tls-peer-verification" title="Permalink to this headline">TLS Peer Verification</a></h3>
<p>By default, SMTP transports perform TLS peer verification. This behavior is
configurable with the <code translate="no" class="notranslate">verify_peer</code> option. Although it's not recommended to
disable this verification for security reasons, it can be useful while developing
the application or when using a self-signed certificate:</p>
<div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>dsn</span> = <span class="hljs-string">'smtp://user:pass@smtp.example.com?verify_peer=0'</span>;</code></pre>
    </div>
</div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.1</span>
    </p><p>The <code translate="no" class="notranslate">verify_peer</code> option was introduced in Symfony 5.1.</p>
</div>
</div>
<div class="section">
<h3 id="other-options"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#other-options" title="Permalink to this headline">Other Options</a></h3>
<dl><dt><code translate="no" class="notranslate">command</code></dt>
        
        <dd>
                            <p class="first">Command to be executed by <code translate="no" class="notranslate">sendmail</code> transport:</p>
                            <div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>dsn</span> = <span class="hljs-string">'sendmail://default?command=/usr/sbin/sendmail%20-oi%20-t'</span></code></pre>
    </div>
</div>
                            <div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>This option was introduced in Symfony 5.2.</p>
</div>
                    </dd>
                        <dt><code translate="no" class="notranslate">local_domain</code></dt>
        
        <dd>
                            <p class="first">The domain name to use in <code translate="no" class="notranslate">HELO</code> command:</p>
                            <div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>dsn</span> = <span class="hljs-string">'smtps://smtp.example.com?local_domain=example.org'</span></code></pre>
    </div>
</div>
                            <div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>This option was introduced in Symfony 5.2.</p>
</div>
                    </dd>
                        <dt><code translate="no" class="notranslate">restart_threshold</code></dt>
        
        <dd>
                            <p class="first">The maximum number of messages to send before re-starting the transport. It
can be used together with <code translate="no" class="notranslate">restart_threshold_sleep</code>:</p>
                            <div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>dsn</span> = <span class="hljs-string">'smtps://smtp.example.com?restart_threshold=10&amp;restart_threshold_sleep=1'</span></code></pre>
    </div>
</div>
                            <div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>This option was introduced in Symfony 5.2.</p>
</div>
                    </dd>
                        <dt><code translate="no" class="notranslate">restart_threshold_sleep</code></dt>
        
        <dd>
                            <p class="first">The number of seconds to sleep between stopping and re-starting the transport.
It's common to combine it with <code translate="no" class="notranslate">restart_threshold</code>:</p>
                            <div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>dsn</span> = <span class="hljs-string">'smtps://smtp.example.com?restart_threshold=10&amp;restart_threshold_sleep=1'</span></code></pre>
    </div>
</div>
                            <div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>This option was introduced in Symfony 5.2.</p>
</div>
                    </dd>
                        <dt><code translate="no" class="notranslate">ping_threshold</code></dt>
        
        <dd>
                            <p class="first">The minimum number of seconds between two messages required to ping the server:</p>
                            <div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>dsn</span> = <span class="hljs-string">'smtps://smtp.example.com?ping_threshold=200'</span></code></pre>
    </div>
</div>
                            <div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>This option was introduced in Symfony 5.2.</p>
</div>
                    </dd>
    </dl></div>
</div>
<div class="section">
<h2 id="creating-sending-messages"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#creating-sending-messages" title="Permalink to this headline">Creating &amp; Sending Messages</a></h2>
<p>To send an email, get a <a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Mailer.html" class="reference external" title="Symfony\Component\Mailer\Mailer">Mailer</a>
instance by type-hinting <a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/MailerInterface.html" class="reference external" title="Symfony\Component\Mailer\MailerInterface">MailerInterface</a>
and create an <a href="https://api.symfony.com/5.3/Symfony/Component/Mime/Email.html" class="reference external" title="Symfony\Component\Mime\Email">Email</a> object:</p>
<div translate="no" data-loc="31" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// src/Controller/MailerController.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bundle</span>\<span class="hljs-title">FrameworkBundle</span>\<span class="hljs-title">Controller</span>\<span class="hljs-title">AbstractController</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">HttpFoundation</span>\<span class="hljs-title">Response</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mailer</span>\<span class="hljs-title">MailerInterface</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Email</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MailerController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractController</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@Route</span>("/email")
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendEmail</span><span class="hljs-params">(MailerInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span>)</span>: <span class="hljs-title">Response</span>
    </span>{
        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
            <span class="hljs-operator">-&gt;</span>from(<span class="hljs-string">'hello@example.com'</span>)
            <span class="hljs-operator">-&gt;</span>to(<span class="hljs-string">'you@example.com'</span>)
            <span class="hljs-comment">//-&gt;cc('cc@example.com')</span>
            <span class="hljs-comment">//-&gt;bcc('bcc@example.com')</span>
            <span class="hljs-comment">//-&gt;replyTo('fabien@example.com')</span>
            <span class="hljs-comment">//-&gt;priority(Email::PRIORITY_HIGH)</span>
            <span class="hljs-operator">-&gt;</span>subject(<span class="hljs-string">'Time for Symfony Mailer!'</span>)
            <span class="hljs-operator">-&gt;</span>text(<span class="hljs-string">'Sending emails is fun again!'</span>)
            <span class="hljs-operator">-&gt;</span>html(<span class="hljs-string">'&lt;p&gt;See Twig integration for better HTML integration!&lt;/p&gt;'</span>);

        <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span><span class="hljs-operator">-&gt;</span>send(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>);

        <span class="hljs-comment">// ...</span>
    }
}</code></pre>
    </div>
</div>
<p>That's it! The message will be sent via the transport you configured.</p>
<div class="section">
<h3 id="email-addresses"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#email-addresses" title="Permalink to this headline">Email Addresses</a></h3>
<p>All the methods that require email addresses (<code translate="no" class="notranslate">from()</code>, <code translate="no" class="notranslate">to()</code>, etc.) accept
both strings or address objects:</p>
<div translate="no" data-loc="20" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// ...</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Address</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-comment">// email address as a simple string</span>
    <span class="hljs-operator">-&gt;</span>from(<span class="hljs-string">'fabien@example.com'</span>)

    <span class="hljs-comment">// email address as an object</span>
    <span class="hljs-operator">-&gt;</span>from(<span class="hljs-keyword">new</span> Address(<span class="hljs-string">'fabien@example.com'</span>))

    <span class="hljs-comment">// defining the email address and name as an object</span>
    <span class="hljs-comment">// (email clients will display the name)</span>
    <span class="hljs-operator">-&gt;</span>from(<span class="hljs-keyword">new</span> Address(<span class="hljs-string">'fabien@example.com'</span>, <span class="hljs-string">'Fabien'</span>))

    <span class="hljs-comment">// defining the email address and name as a string</span>
    <span class="hljs-comment">// (the format must match: 'Name &lt;email@example.com&gt;')</span>
    <span class="hljs-operator">-&gt;</span>from(Address<span class="hljs-operator">::</span>create(<span class="hljs-string">'Fabien Potencier &lt;fabien@example.com&gt;'</span>))

    <span class="hljs-comment">// ...</span>
;</code></pre>
    </div>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><span>Tip</span>
    </p><p>Instead of calling <code translate="no" class="notranslate">-&gt;from()</code> <em>every</em> time you create a new email, you can
<a href="https://symfony.com/doc/current/mailer.html#mailer-configure-email-globally" class="reference internal">configure emails globally</a> to set the
same <code translate="no" class="notranslate">From</code> email to all messages.</p>
</div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span>Note</span>
    </p><p>The local part of the address (what goes before the <code translate="no" class="notranslate">@</code>) can include UTF-8
characters, except for the sender address (to avoid issues with bounced emails).
For example: <code translate="no" class="notranslate">föóbàr@example.com</code>, <code translate="no" class="notranslate">用户@example.com</code>, <code translate="no" class="notranslate">θσερ@example.com</code>, etc.</p>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>Support for UTF-8 characters in email addresses was introduced in Symfony 5.2.</p>
</div>
</div>
<p>Use <code translate="no" class="notranslate">addTo()</code>, <code translate="no" class="notranslate">addCc()</code>, or <code translate="no" class="notranslate">addBcc()</code> methods to add more addresses:</p>
<div translate="no" data-loc="8" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-operator">-&gt;</span>to(<span class="hljs-string">'foo@example.com'</span>)
    <span class="hljs-operator">-&gt;</span>addTo(<span class="hljs-string">'bar@example.com'</span>)
    <span class="hljs-operator">-&gt;</span>cc(<span class="hljs-string">'cc@example.com'</span>)
    <span class="hljs-operator">-&gt;</span>addCc(<span class="hljs-string">'cc2@example.com'</span>)

    <span class="hljs-comment">// ...</span>
;</code></pre>
    </div>
</div>
<p>Alternatively, you can pass multiple addresses to each method:</p>
<div translate="no" data-loc="8" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>toAddresses</span> = [<span class="hljs-string">'foo@example.com'</span>, <span class="hljs-keyword">new</span> Address(<span class="hljs-string">'bar@example.com'</span>)];

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-operator">-&gt;</span>to(...<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>toAddresses</span>)
    <span class="hljs-operator">-&gt;</span>cc(<span class="hljs-string">'cc1@example.com'</span>, <span class="hljs-string">'cc2@example.com'</span>)

    <span class="hljs-comment">// ...</span>
;</code></pre>
    </div>
</div>
</div>
<div class="section">
<h3 id="message-headers"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#message-headers" title="Permalink to this headline">Message Headers</a></h3>
<p>Messages include a number of header fields to describe their contents. Symfony
sets all the required headers automatically, but you can set your own headers
too. There are different types of headers (Id header, Mailbox header, Date
header, etc.) but most of the times you'll set text headers:</p>
<div translate="no" data-loc="8" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-operator">-&gt;</span>getHeaders()
        <span class="hljs-comment">// this header tells auto-repliers ("email holiday mode") to not</span>
        <span class="hljs-comment">// reply to this message because it's an automated email</span>
        <span class="hljs-operator">-&gt;</span>addTextHeader(<span class="hljs-string">'X-Auto-Response-Suppress'</span>, <span class="hljs-string">'OOF, DR, RN, NRN, AutoReply'</span>);

    <span class="hljs-comment">// ...</span>
;</code></pre>
    </div>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><span>Tip</span>
    </p><p>Instead of calling <code translate="no" class="notranslate">-&gt;addTextHeader()</code> <em>every</em> time you create a new email, you can
<a href="https://symfony.com/doc/current/mailer.html#mailer-configure-email-globally" class="reference internal">configure emails globally</a> to set the same
headers to all sent emails.</p>
</div>
</div>
<div class="section">
<h3 id="message-contents"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#message-contents" title="Permalink to this headline">Message Contents</a></h3>
<p>The text and HTML contents of the email messages can be strings (usually the
result of rendering some template) or PHP resources:</p>
<div translate="no" data-loc="10" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-comment">// ...</span>
    <span class="hljs-comment">// simple contents defined as a string</span>
    <span class="hljs-operator">-&gt;</span>text(<span class="hljs-string">'Lorem ipsum...'</span>)
    <span class="hljs-operator">-&gt;</span>html(<span class="hljs-string">'&lt;p&gt;Lorem ipsum...&lt;/p&gt;'</span>)

    <span class="hljs-comment">// attach a file stream</span>
    <span class="hljs-operator">-&gt;</span>text(fopen(<span class="hljs-string">'/path/to/emails/user_signup.txt'</span>, <span class="hljs-string">'r'</span>))
    <span class="hljs-operator">-&gt;</span>html(fopen(<span class="hljs-string">'/path/to/emails/user_signup.html'</span>, <span class="hljs-string">'r'</span>))
;</code></pre>
    </div>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><span>Tip</span>
    </p><p>You can also use Twig templates to render the HTML and text contents. Read
the <a href="https://symfony.com/doc/current/mailer.html#twig-html-css" class="reference internal">Twig: HTML &amp; CSS</a> section later in this article to
learn more.</p>
</div>
</div>
<div class="section">
<h3 id="file-attachments"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#file-attachments" title="Permalink to this headline">File Attachments</a></h3>
<p>Use the <code translate="no" class="notranslate">attachFromPath()</code> method to attach files that exist on your file system:</p>
<div translate="no" data-loc="8" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>attachFromPath(<span class="hljs-string">'/path/to/documents/terms-of-use.pdf'</span>)
    <span class="hljs-comment">// optionally you can tell email clients to display a custom name for the file</span>
    <span class="hljs-operator">-&gt;</span>attachFromPath(<span class="hljs-string">'/path/to/documents/privacy.pdf'</span>, <span class="hljs-string">'Privacy Policy'</span>)
    <span class="hljs-comment">// optionally you can provide an explicit MIME type (otherwise it's guessed)</span>
    <span class="hljs-operator">-&gt;</span>attachFromPath(<span class="hljs-string">'/path/to/documents/contract.doc'</span>, <span class="hljs-string">'Contract'</span>, <span class="hljs-string">'application/msword'</span>)
;</code></pre>
    </div>
</div>
<p>Alternatively you can use the <code translate="no" class="notranslate">attach()</code> method to attach contents from a stream:</p>
<div translate="no" data-loc="4" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>attach(fopen(<span class="hljs-string">'/path/to/documents/contract.doc'</span>, <span class="hljs-string">'r'</span>))
;</code></pre>
    </div>
</div>
</div>
<div class="section">
<h3 id="embedding-images"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#embedding-images" title="Permalink to this headline">Embedding Images</a></h3>
<p>If you want to display images inside your email, you must embed them
instead of adding them as attachments. When using Twig to render the email
contents, as explained <a href="https://symfony.com/doc/current/mailer.html#mailer-twig-embedding-images" class="reference internal">later in this article</a>,
the images are embedded automatically. Otherwise, you need to embed them manually.</p>
<p>First, use the <code translate="no" class="notranslate">embed()</code> or <code translate="no" class="notranslate">embedFromPath()</code> method to add an image from a
file or stream:</p>
<div translate="no" data-loc="7" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-comment">// ...</span>
    <span class="hljs-comment">// get the image contents from a PHP resource</span>
    <span class="hljs-operator">-&gt;</span>embed(fopen(<span class="hljs-string">'/path/to/images/logo.png'</span>, <span class="hljs-string">'r'</span>), <span class="hljs-string">'logo'</span>)
    <span class="hljs-comment">// get the image contents from an existing file</span>
    <span class="hljs-operator">-&gt;</span>embedFromPath(<span class="hljs-string">'/path/to/images/signature.gif'</span>, <span class="hljs-string">'footer-signature'</span>)
;</code></pre>
    </div>
</div>
<p>The second optional argument of both methods is the image name ("Content-ID" in
the MIME standard). Its value is an arbitrary string used later to reference the
images inside the HTML contents:</p>
<div translate="no" data-loc="7" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>embed(fopen(<span class="hljs-string">'/path/to/images/logo.png'</span>, <span class="hljs-string">'r'</span>), <span class="hljs-string">'logo'</span>)
    <span class="hljs-operator">-&gt;</span>embedFromPath(<span class="hljs-string">'/path/to/images/signature.gif'</span>, <span class="hljs-string">'footer-signature'</span>)
    <span class="hljs-comment">// reference images using the syntax 'cid:' + "image embed name"</span>
    <span class="hljs-operator">-&gt;</span>html(<span class="hljs-string">'&lt;img src="cid:logo"&gt; ... &lt;img src="cid:footer-signature"&gt; ...'</span>)
;</code></pre>
    </div>
</div>
<span id="mailer-configure-email-globally"></span>
</div>
</div>
<div class="section">
<h2 id="configuring-emails-globally"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#configuring-emails-globally" title="Permalink to this headline">Configuring Emails Globally</a></h2>
<p>Instead of calling <code translate="no" class="notranslate">-&gt;from()</code> on each Email you create, you can configure this
value globally so that it is set on all sent emails. The same is true with <code translate="no" class="notranslate">-&gt;to()</code>
and headers.</p>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="10" class="notranslate codeblock codeblock-length-md codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/dev/mailer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">mailer:</span>
        <span class="hljs-attr">envelope:</span>
            <span class="hljs-attr">sender:</span> <span class="hljs-string">'fabien@example.com'</span>
            <span class="hljs-attr">recipients:</span> <span class="hljs-string">['foo@example.com',</span> <span class="hljs-string">'bar@example.com'</span><span class="hljs-string">]</span>
        <span class="hljs-attr">headers:</span>
            <span class="hljs-attr">from:</span> <span class="hljs-string">'Fabien &lt;fabien@example.com&gt;'</span>
            <span class="hljs-attr">bcc:</span> <span class="hljs-string">'baz@example.com'</span>
            <span class="hljs-attr">X-Custom-Header:</span> <span class="hljs-string">'foobar'</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="23" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/mailer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:mailer</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:envelope</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:sender</span>&gt;</span>fabien@example.com<span class="hljs-tag">&lt;/<span class="hljs-name">framework:sender</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:recipients</span>&gt;</span>foo@example.com<span class="hljs-tag">&lt;/<span class="hljs-name">framework:recipients</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:recipients</span>&gt;</span>bar@example.com<span class="hljs-tag">&lt;/<span class="hljs-name">framework:recipients</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:envelope</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:header</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"from"</span>&gt;</span>Fabien <span class="hljs-symbol">&amp;lt;</span>fabien@example.com<span class="hljs-symbol">&amp;gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">framework:header</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:header</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"bcc"</span>&gt;</span>baz@example.com<span class="hljs-tag">&lt;/<span class="hljs-name">framework:header</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:header</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"X-Custom-Header"</span>&gt;</span>foobar<span class="hljs-tag">&lt;/<span class="hljs-name">framework:header</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:mailer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="15" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/mailer.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>mailer();
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span>
        <span class="hljs-operator">-&gt;</span>envelope()
            <span class="hljs-operator">-&gt;</span>sender(<span class="hljs-string">'fabien@example.com'</span>)
            <span class="hljs-operator">-&gt;</span>recipients([<span class="hljs-string">'foo@example.com'</span>, <span class="hljs-string">'bar@example.com'</span>])
    ;

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span><span class="hljs-operator">-&gt;</span>header(<span class="hljs-string">'from'</span>)<span class="hljs-operator">-&gt;</span>value(<span class="hljs-string">'Fabien &lt;fabien@example.com&gt;'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span><span class="hljs-operator">-&gt;</span>header(<span class="hljs-string">'bcc'</span>)<span class="hljs-operator">-&gt;</span>value(<span class="hljs-string">'baz@example.com'</span>);
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span><span class="hljs-operator">-&gt;</span>header(<span class="hljs-string">'X-Custom-Header'</span>)<span class="hljs-operator">-&gt;</span>value(<span class="hljs-string">'foobar'</span>);
};</code></pre>
    </div>
</div>
        </div>
    </div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>The <code translate="no" class="notranslate">headers</code> option was introduced in Symfony 5.2.</p>
</div>
</div>
<div class="section">
<h2 id="handling-sending-failures"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#handling-sending-failures" title="Permalink to this headline">Handling Sending Failures</a></h2>
<p>Symfony Mailer considers that sending was successful when your transport (SMTP
server or third-party provider) accepts the mail for further delivery. The message
can later be lost or not delivered because of some problem in your provider, but
that's out of reach for your Symfony application.</p>
<p>If there's an error when handing over the email to your transport, Symfony throws
a <a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Exception/TransportExceptionInterface.html" class="reference external" title="Symfony\Component\Mailer\Exception\TransportExceptionInterface">TransportExceptionInterface</a>.
Catch that exception to recover from the error or to display some message:</p>
<div translate="no" data-loc="10" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10</pre>
        <pre class="codeblock-code"><code><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mailer</span>\<span class="hljs-title">Exception</span>\<span class="hljs-title">TransportExceptionInterface</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = <span class="hljs-keyword">new</span> Email();
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span><span class="hljs-operator">-&gt;</span>send(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>);
} <span class="hljs-keyword">catch</span> (TransportExceptionInterface <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>e</span>) {
    <span class="hljs-comment">// some error prevented the email sending; display an</span>
    <span class="hljs-comment">// error message or try to resend the message</span>
}</code></pre>
    </div>
</div>
</div>
<div class="section">
<h2 id="debugging-emails"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#debugging-emails" title="Permalink to this headline">Debugging Emails</a></h2>
<p>The <a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/SentMessage.html" class="reference external" title="Symfony\Component\Mailer\SentMessage">SentMessage</a> object returned by the
<code translate="no" class="notranslate">send()</code> method of the <a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Transport/TransportInterface.html" class="reference external" title="Symfony\Component\Mailer\Transport\TransportInterface">TransportInterface</a>
provides access to the original message (<code translate="no" class="notranslate">getOriginalMessage()</code>) and to some
debug information (<code translate="no" class="notranslate">getDebug()</code>) such as the HTTP calls done by the HTTP
transports, which is useful to debug errors.</p>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span>Note</span>
    </p><p>Some mailer providers change the <code translate="no" class="notranslate">Message-Id</code> when sending the email. The
<code translate="no" class="notranslate">getMessageId()</code> method from <code translate="no" class="notranslate">SentMessage</code> always returns the definitive
ID of the message (being the original random ID generated by Symfony or the
new ID generated by the mailer provider).</p>
</div>
<p>The exceptions related to mailer transports (those which implement
<a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Exception/TransportException.html" class="reference external" title="Symfony\Component\Mailer\Exception\TransportException">TransportException</a>) also provide
this debug information via the <code translate="no" class="notranslate">getDebug()</code> method.</p>
<span id="mailer-twig"></span>
</div>
<div class="section">
<h2 id="twig-html-css"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#twig-html-css" title="Permalink to this headline">Twig: HTML &amp; CSS</a></h2>
<p>The Mime component integrates with the <a href="https://symfony.com/doc/current/templates.html#twig-language" class="reference internal">Twig template engine</a>
to provide advanced features such as CSS style inlining and support for HTML/CSS
frameworks to create complex HTML email messages. First, make sure Twig is installed:</p>
<div translate="no" data-loc="4" class="notranslate codeblock codeblock-length-sm codeblock-terminal codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4</pre>
        <pre class="codeblock-code"><code><span class="hljs-prompt">$ </span>composer require symfony/twig-bundle

<span class="hljs-comment"># or if you're using the component in a non-Symfony app:</span>
<span class="hljs-comment"># composer require symfony/twig-bridge</span></code></pre>
    </div>
</div>
<div class="section">
<h3 id="html-content"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#html-content" title="Permalink to this headline">HTML Content</a></h3>
<p>To define the contents of your email with Twig, use the
<a href="https://api.symfony.com/5.3/Symfony/Bridge/Twig/Mime/TemplatedEmail.html" class="reference external" title="Symfony\Bridge\Twig\Mime\TemplatedEmail">TemplatedEmail</a> class. This class extends
the normal <a href="https://api.symfony.com/5.3/Symfony/Component/Mime/Email.html" class="reference external" title="Symfony\Component\Mime\Email">Email</a> class but adds some new methods
for Twig templates:</p>
<div translate="no" data-loc="16" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16</pre>
        <pre class="codeblock-code"><code><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Bridge</span>\<span class="hljs-title">Twig</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">TemplatedEmail</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> TemplatedEmail())
    <span class="hljs-operator">-&gt;</span>from(<span class="hljs-string">'fabien@example.com'</span>)
    <span class="hljs-operator">-&gt;</span>to(<span class="hljs-keyword">new</span> Address(<span class="hljs-string">'ryan@example.com'</span>))
    <span class="hljs-operator">-&gt;</span>subject(<span class="hljs-string">'Thanks for signing up!'</span>)

    <span class="hljs-comment">// path of the Twig template to render</span>
    <span class="hljs-operator">-&gt;</span>htmlTemplate(<span class="hljs-string">'emails/signup.html.twig'</span>)

    <span class="hljs-comment">// pass variables (name =&gt; value) to the template</span>
    <span class="hljs-operator">-&gt;</span>context([
        <span class="hljs-string">'expiration_date'</span> =&gt; <span class="hljs-keyword">new</span> \DateTime(<span class="hljs-string">'+7 days'</span>),
        <span class="hljs-string">'username'</span> =&gt; <span class="hljs-string">'foo'</span>,
    ])
;</code></pre>
    </div>
</div>
<p>Then, create the template:</p>
<div translate="no" data-loc="12" class="notranslate codeblock codeblock-length-md codeblock-html+twig codeblock-twig"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">{# templates/emails/signup.html.twig #}</span><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome </span><span class="hljs-template-variable">{{ email.toName }}</span><span class="xml">!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    You signed up as </span><span class="hljs-template-variable">{{ username }}</span><span class="xml"> the following email:
<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span></span><span class="hljs-template-variable">{{ email.to[0].address }}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>Click here to activate your account<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    (this link is valid until </span><span class="hljs-template-variable">{{ expiration_date|<span class="hljs-keyword">date</span>('F jS') }}</span><span class="xml">)
<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></code></pre>
    </div>
</div>
<p>The Twig template has access to any of the parameters passed in the <code translate="no" class="notranslate">context()</code>
method of the <code translate="no" class="notranslate">TemplatedEmail</code> class and also to a special variable called
<code translate="no" class="notranslate">email</code>, which is an instance of
<a href="https://api.symfony.com/5.3/Symfony/Bridge/Twig/Mime/WrappedTemplatedEmail.html" class="reference external" title="Symfony\Bridge\Twig\Mime\WrappedTemplatedEmail">WrappedTemplatedEmail</a>.</p>
</div>
<div class="section">
<h3 id="text-content"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#text-content" title="Permalink to this headline">Text Content</a></h3>
<p>When the text content of a <code translate="no" class="notranslate">TemplatedEmail</code> is not explicitly defined, mailer
will generate it automatically by converting the HTML contents into text. If you
have <a href="https://github.com/thephpleague/html-to-markdown" class="reference external" rel="external noopener noreferrer" target="_blank">league/html-to-markdown</a> installed in your application,
it uses that to turn HTML into Markdown (so the text email has some visual appeal).
Otherwise, it applies the <a href="https://secure.php.net/manual/en/function.strip-tags.php" class="reference external" title="strip_tags" rel="external noopener noreferrer" target="_blank">strip_tags</a> PHP function to the original
HTML contents.</p>
<p>If you want to define the text content yourself, use the <code translate="no" class="notranslate">text()</code> method
explained in the previous sections or the <code translate="no" class="notranslate">textTemplate()</code> method provided by
the <code translate="no" class="notranslate">TemplatedEmail</code> class:</p>
<div translate="no" data-loc="9" class="notranslate codeblock codeblock-length-sm codeblock-diff">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9</pre>
        <pre class="codeblock-code"><code><span class="hljs-addition">+ use Symfony\Bridge\Twig\Mime\TemplatedEmail;</span>

$email = (new TemplatedEmail())
    // ...

    -&gt;htmlTemplate('emails/signup.html.twig')
<span class="hljs-addition">+     -&gt;textTemplate('emails/signup.txt.twig')</span>
    // ...
;</code></pre>
    </div>
</div>
<span id="mailer-twig-embedding-images"></span>
</div>
<div class="section">
<h3 id="embedding-images"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#embedding-images" title="Permalink to this headline">Embedding Images</a></h3>
<p>Instead of dealing with the <code translate="no" class="notranslate">&lt;img src="cid: ..."&gt;</code> syntax explained in the
previous sections, when using Twig to render email contents you can refer to
image files as usual. First, to simplify things, define a Twig namespace called
<code translate="no" class="notranslate">images</code> that points to whatever directory your images are stored in:</p>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="7" class="notranslate codeblock codeblock-length-sm codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/twig.yaml</span>
<span class="hljs-attr">twig:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-attr">paths:</span>
        <span class="hljs-comment"># point this wherever your images live</span>
        <span class="hljs-string">'%kernel.project_dir%/assets/images'</span><span class="hljs-string">:</span> <span class="hljs-string">images</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="15" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/twig.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:twig</span>=<span class="hljs-string">"http://symfony.com/schema/dic/twig"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/twig https://symfony.com/schema/dic/twig/twig-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">twig:config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-comment">&lt;!-- point this wherever your images live --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">twig:path</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"images"</span>&gt;</span>%kernel.project_dir%/assets/images<span class="hljs-tag">&lt;/<span class="hljs-name">twig:path</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">twig:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="9" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/twig.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">TwigConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(TwigConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-comment">// point this wherever your images live</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span><span class="hljs-operator">-&gt;</span>path(<span class="hljs-string">'%kernel.project_dir%/assets/images'</span>, <span class="hljs-string">'images'</span>);
};</code></pre>
    </div>
</div>
        </div>
    </div>
<p>Now, use the special <code translate="no" class="notranslate">email.image()</code> Twig helper to embed the images inside
the email contents:</p>
<div translate="no" data-loc="5" class="notranslate codeblock codeblock-length-sm codeblock-html+twig codeblock-twig"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">{# '@images/' refers to the Twig namespace defined earlier #}</span><span class="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">{{ email.image('@images/logo.png') }}</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Logo"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome </span><span class="hljs-template-variable">{{ email.toName }}</span><span class="xml">!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</span><span class="hljs-comment">{# ... #}</span></code></pre>
    </div>
</div>
<span id="mailer-inline-css"></span>
</div>
<div class="section">
<h3 id="inlining-css-styles"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#inlining-css-styles" title="Permalink to this headline">Inlining CSS Styles</a></h3>
<p>Designing the HTML contents of an email is very different from designing a
normal HTML page. For starters, most email clients only support a subset of all
CSS features. In addition, popular email clients like Gmail don't support
defining styles inside <code translate="no" class="notranslate">&lt;style&gt; ... &lt;/style&gt;</code> sections and you must <strong>inline
all the CSS styles</strong>.</p>
<p>CSS inlining means that every HTML tag must define a <code translate="no" class="notranslate">style</code> attribute with
all its CSS styles. This can make organizing your CSS a mess. That's why Twig
provides a <code translate="no" class="notranslate">CssInlinerExtension</code> that automates everything for you. Install
it with:</p>
<div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-terminal codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-prompt">$ </span>composer require twig/extra-bundle twig/cssinliner-extra</code></pre>
    </div>
</div>
<p>The extension is enabled automatically. To use it, wrap the entire template
with the <code translate="no" class="notranslate">inline_css</code> filter:</p>
<div translate="no" data-loc="11" class="notranslate codeblock codeblock-length-md codeblock-html+twig codeblock-twig"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11</pre>
        <pre class="codeblock-code"><code><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">apply</span></span> inline_css %}</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span>
        </span><span class="hljs-comment">{# here, define your CSS styles as usual #}</span><span class="xml"><span class="css">
        <span class="hljs-selector-tag">h1</span> {
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome </span><span class="hljs-template-variable">{{ email.toName }}</span><span class="xml">!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    </span><span class="hljs-comment">{# ... #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endapply</span></span> %}</span></code></pre>
    </div>
</div>
<div class="section">
<h4 id="using-external-css-files"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#using-external-css-files" title="Permalink to this headline">Using External CSS Files</a></h4>
<p>You can also define CSS styles in external files and pass them as
arguments to the filter:</p>
<div translate="no" data-loc="4" class="notranslate codeblock codeblock-length-sm codeblock-html+twig codeblock-twig"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4</pre>
        <pre class="codeblock-code"><code><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">apply</span></span> inline_css(<span class="hljs-name">source</span><span class="hljs-params">('@styles/email.css')</span>) %}</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Welcome </span><span class="hljs-template-variable">{{ username }}</span><span class="xml">!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    </span><span class="hljs-comment">{# ... #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endapply</span></span> %}</span></code></pre>
    </div>
</div>
<p>You can pass unlimited number of arguments to <code translate="no" class="notranslate">inline_css()</code> to load multiple
CSS files. For this example to work, you also need to define a new Twig namespace
called <code translate="no" class="notranslate">styles</code> that points to the directory where <code translate="no" class="notranslate">email.css</code> lives:</p>
<span id="mailer-css-namespace"></span>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="7" class="notranslate codeblock codeblock-length-sm codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/twig.yaml</span>
<span class="hljs-attr">twig:</span>
    <span class="hljs-comment"># ...</span>

    <span class="hljs-attr">paths:</span>
        <span class="hljs-comment"># point this wherever your css files live</span>
        <span class="hljs-string">'%kernel.project_dir%/assets/styles'</span><span class="hljs-string">:</span> <span class="hljs-string">styles</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="15" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/twig.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:twig</span>=<span class="hljs-string">"http://symfony.com/schema/dic/twig"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/twig https://symfony.com/schema/dic/twig/twig-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">twig:config</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ... --&gt;</span>

        <span class="hljs-comment">&lt;!-- point this wherever your css files live --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">twig:path</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">"styles"</span>&gt;</span>%kernel.project_dir%/assets/styles<span class="hljs-tag">&lt;/<span class="hljs-name">twig:path</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">twig:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="9" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/twig.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">TwigConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(TwigConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>

    <span class="hljs-comment">// point this wherever your css files live</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>twig</span><span class="hljs-operator">-&gt;</span>path(<span class="hljs-string">'%kernel.project_dir%/assets/styles'</span>, <span class="hljs-string">'styles'</span>);
};</code></pre>
    </div>
</div>
        </div>
    </div>
<span id="mailer-markdown"></span>
</div>
</div>
<div class="section">
<h3 id="rendering-markdown-content"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#rendering-markdown-content" title="Permalink to this headline">Rendering Markdown Content</a></h3>
<p>Twig provides another extension called <code translate="no" class="notranslate">MarkdownExtension</code> that lets you
define the email contents using <a href="https://commonmark.org/" class="reference external" rel="external noopener noreferrer" target="_blank">Markdown syntax</a>. To use this, install the
extension and a Markdown conversion library (the extension is compatible with
several popular libraries):</p>
<div translate="no" data-loc="2" class="notranslate codeblock codeblock-length-sm codeblock-terminal codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># instead of league/commonmark, you can also use erusev/parsedown or michelf/php-markdown</span>
<span class="hljs-prompt">$ </span>composer require twig/extra-bundle twig/markdown-extra league/commonmark</code></pre>
    </div>
</div>
<p>The extension adds a <code translate="no" class="notranslate">markdown_to_html</code> filter, which you can use to convert parts or
the entire email contents from Markdown to HTML:</p>
<div translate="no" data-loc="9" class="notranslate codeblock codeblock-length-sm codeblock-twig"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9</pre>
        <pre class="codeblock-code"><code><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">apply</span></span> markdown_to_html %}</span><span class="xml">
    Welcome </span><span class="hljs-template-variable">{{ email.toName }}</span><span class="xml">!
    ===========================

    You signed up to our site using the following email:
    `</span><span class="hljs-template-variable">{{ email.to[0].address }}</span><span class="xml">`

    [Click here to activate your account](</span><span class="hljs-template-variable">{{ url('...') }}</span><span class="xml">)
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endapply</span></span> %}</span></code></pre>
    </div>
</div>
<span id="mailer-inky"></span>
</div>
<div class="section">
<h3 id="inky-email-templating-language"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#inky-email-templating-language" title="Permalink to this headline">Inky Email Templating Language</a></h3>
<p>Creating beautifully designed emails that work on every email client is so
complex that there are HTML/CSS frameworks dedicated to that. One of the most
popular frameworks is called <a href="https://get.foundation/emails/docs/inky.html" class="reference external" rel="external noopener noreferrer" target="_blank">Inky</a>. It defines a syntax based on some HTML-like
tags which are later transformed into the real HTML code sent to users:</p>
<div translate="no" data-loc="6" class="notranslate codeblock codeblock-length-sm codeblock-html"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- a simplified example of the Inky syntax --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">row</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">columns</span>&gt;</span>This is a column.<span class="hljs-tag">&lt;/<span class="hljs-name">columns</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">row</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
<p>Twig provides integration with Inky via the <code translate="no" class="notranslate">InkyExtension</code>. First, install
the extension in your application:</p>
<div translate="no" data-loc="1" class="notranslate codeblock codeblock-length-sm codeblock-terminal codeblock-bash">
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1</pre>
        <pre class="codeblock-code"><code><span class="hljs-prompt">$ </span>composer require twig/extra-bundle twig/inky-extra</code></pre>
    </div>
</div>
<p>The extension adds an <code translate="no" class="notranslate">inky_to_html</code> filter, which can be used to convert
parts or the entire email contents from Inky to HTML:</p>
<div translate="no" data-loc="12" class="notranslate codeblock codeblock-length-md codeblock-html+twig codeblock-twig"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12</pre>
        <pre class="codeblock-code"><code><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">apply</span></span> inky_to_html %}</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">container</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">row</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"header"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">columns</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">spacer</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"16"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">spacer</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-center"</span>&gt;</span>Welcome </span><span class="hljs-template-variable">{{ email.toName }}</span><span class="xml">!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">columns</span>&gt;</span>

            </span><span class="hljs-comment">{# ... #}</span><span class="xml">
        <span class="hljs-tag">&lt;/<span class="hljs-name">row</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span>
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endapply</span></span> %}</span></code></pre>
    </div>
</div>
<p>You can combine all filters to create complex email messages:</p>
<div translate="no" data-loc="3" class="notranslate codeblock codeblock-length-sm codeblock-twig"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3</pre>
        <pre class="codeblock-code"><code><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">apply</span></span> inky_to_html|<span class="hljs-keyword">inline_css</span>(<span class="hljs-name">source</span><span class="hljs-params">('@styles/foundation-emails.css')</span>) %}</span><span class="xml">
    </span><span class="hljs-comment">{# ... #}</span><span class="xml">
</span><span class="hljs-template-tag">{% <span class="hljs-name"><span class="hljs-keyword">endapply</span></span> %}</span></code></pre>
    </div>
</div>
<p>This makes use of the <a href="https://symfony.com/doc/current/mailer.html#mailer-css-namespace" class="reference internal">styles Twig namespace</a> we created
earlier. You could, for example, <a href="https://github.com/foundation/foundation-emails/blob/develop/dist/foundation-emails.css" class="reference external" rel="external noopener noreferrer" target="_blank">download the foundation-emails.css file</a>
directly from GitHub and save it in <code translate="no" class="notranslate">assets/styles</code>.</p>
</div>
</div>
<div class="section">
<h2 id="signing-and-encrypting-messages"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#signing-and-encrypting-messages" title="Permalink to this headline">Signing and Encrypting Messages</a></h2>
<p>It's possible to sign and/or encrypt email messages to increase their
integrity/security. Both options can be combined to encrypt a signed message
and/or to sign an encrypted message.</p>
<p>Before signing/encrypting messages, make sure to have:</p>
<ul><li>The <a href="https://www.php.net/manual/en/book.openssl.php" class="reference external" rel="external noopener noreferrer" target="_blank">OpenSSL PHP extension</a> properly installed and configured;</li>
<li>A valid <a href="https://en.wikipedia.org/wiki/S/MIME" class="reference external" rel="external noopener noreferrer" target="_blank">S/MIME</a> security certificate.</li>
</ul><div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><span>Tip</span>
    </p><p>When using OpenSSL to generate certificates, make sure to add the
<code translate="no" class="notranslate">-addtrust emailProtection</code> command option.</p>
</div>
<div class="section">
<h3 id="signing-messages"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#signing-messages" title="Permalink to this headline">Signing Messages</a></h3>
<p>When signing a message, a cryptographic hash is generated for the entire content
of the message (including attachments). This hash is added as an attachment so
the recipient can validate the integrity of the received message. However, the
contents of the original message are still readable for mailing agents not
supporting signed messages, so you must also encrypt the message if you want to
hide its contents.</p>
<p>You can sign messages using either <code translate="no" class="notranslate">S/MIME</code> or <code translate="no" class="notranslate">DKIM</code>. In both cases, the
certificate and private key must be <a href="https://en.wikipedia.org/wiki/Privacy-Enhanced_Mail" class="reference external" rel="external noopener noreferrer" target="_blank">PEM encoded</a>, and can be either created
using for example OpenSSL or obtained at an official Certificate Authority (CA).
The email recipient must have the CA certificate in the list of trusted issuers
in order to verify the signature.</p>
<div class="section">
<h4 id="s-mime-signer"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#s-mime-signer" title="Permalink to this headline">S/MIME Signer</a></h4>
<p><a href="https://en.wikipedia.org/wiki/S/MIME" class="reference external" rel="external noopener noreferrer" target="_blank">S/MIME</a> is a standard for public key encryption and signing of MIME data. It
requires using both a certificate and a private key:</p>
<div translate="no" data-loc="14" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
        <pre class="codeblock-code"><code><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Crypto</span>\<span class="hljs-title">SMimeSigner</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Email</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-operator">-&gt;</span>from(<span class="hljs-string">'hello@example.com'</span>)
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>html(<span class="hljs-string">'...'</span>);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>signer</span> = <span class="hljs-keyword">new</span> SMimeSigner(<span class="hljs-string">'/path/to/certificate.crt'</span>, <span class="hljs-string">'/path/to/certificate-private-key.key'</span>);
<span class="hljs-comment">// if the private key has a passphrase, pass it as the third argument</span>
<span class="hljs-comment">// new SMimeSigner('/path/to/certificate.crt', '/path/to/certificate-private-key.key', 'the-passphrase');</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>signedEmail</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>signer</span><span class="hljs-operator">-&gt;</span>sign(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>);
<span class="hljs-comment">// now use the Mailer component to send this $signedEmail instead of the original email</span></code></pre>
    </div>
</div>
<div class="admonition admonition-tip ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg><span>Tip</span>
    </p><p>The <code translate="no" class="notranslate">SMimeSigner</code> class defines other optional arguments to pass
intermediate certificates and to configure the signing process using a
bitwise operator options for <a href="https://secure.php.net/manual/en/function.openssl-pkcs7-sign.php" class="reference external" title="openssl_pkcs7_sign" rel="external noopener noreferrer" target="_blank">openssl_pkcs7_sign</a> PHP function.</p>
</div>
</div>
<div class="section">
<h4 id="dkim-signer"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#dkim-signer" title="Permalink to this headline">DKIM Signer</a></h4>
<p><a href="https://en.wikipedia.org/wiki/DomainKeys_Identified_Mail" class="reference external" rel="external noopener noreferrer" target="_blank">DKIM</a> is an email authentication method that affixes a digital signature,
linked to a domain name, to each outgoing email messages. It requires a private
key but not a certificate:</p>
<div translate="no" data-loc="28" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre>
        <pre class="codeblock-code"><code><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Crypto</span>\<span class="hljs-title">DkimSigner</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Email</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-operator">-&gt;</span>from(<span class="hljs-string">'hello@example.com'</span>)
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>html(<span class="hljs-string">'...'</span>);

<span class="hljs-comment">// first argument: same as openssl_pkey_get_private(), either a string with the</span>
<span class="hljs-comment">// contents of the private key or the absolute path to it (prefixed with 'file://')</span>
<span class="hljs-comment">// second and third arguments: the domain name and "selector" used to perform a DNS lookup</span>
<span class="hljs-comment">// (the selector is a string used to point to a specific DKIM public key record in your DNS)</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>signer</span> = <span class="hljs-keyword">new</span> DkimSigner(<span class="hljs-string">'file:///path/to/private-key.key'</span>, <span class="hljs-string">'example.com'</span>, <span class="hljs-string">'sf'</span>);
<span class="hljs-comment">// if the private key has a passphrase, pass it as the fifth argument</span>
<span class="hljs-comment">// new DkimSigner('file:///path/to/private-key.key', 'example.com', 'sf', [], 'the-passphrase');</span>

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>signedEmail</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>signer</span><span class="hljs-operator">-&gt;</span>sign(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>);
<span class="hljs-comment">// now use the Mailer component to send this $signedEmail instead of the original email</span>

<span class="hljs-comment">// DKIM signer provides many config options and a helper object to configure them</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Crypto</span>\<span class="hljs-title">DkimOptions</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>signedEmail</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>signer</span><span class="hljs-operator">-&gt;</span>sign(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>, (<span class="hljs-keyword">new</span> DkimOptions())
    <span class="hljs-operator">-&gt;</span>bodyCanon(<span class="hljs-string">'relaxed'</span>)
    <span class="hljs-operator">-&gt;</span>headerCanon(<span class="hljs-string">'relaxed'</span>)
    <span class="hljs-operator">-&gt;</span>headersToIgnore([<span class="hljs-string">'Message-ID'</span>])
    <span class="hljs-operator">-&gt;</span>toArray()
);</code></pre>
    </div>
</div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.2</span>
    </p><p>The DKIM signer was introduced in Symfony 5.2.</p>
</div>
</div>
</div>
<div class="section">
<h3 id="encrypting-messages"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#encrypting-messages" title="Permalink to this headline">Encrypting Messages</a></h3>
<p>When encrypting a message, the entire message (including attachments) is
encrypted using a certificate. Therefore, only the recipients that have the
corresponding private key can read the original message contents:</p>
<div translate="no" data-loc="11" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11</pre>
        <pre class="codeblock-code"><code><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Crypto</span>\<span class="hljs-title">SMimeEncrypter</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mime</span>\<span class="hljs-title">Email</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-operator">-&gt;</span>from(<span class="hljs-string">'hello@example.com'</span>)
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>html(<span class="hljs-string">'...'</span>);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>encrypter</span> = <span class="hljs-keyword">new</span> SMimeEncrypter(<span class="hljs-string">'/path/to/certificate.crt'</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>encryptedEmail</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>encrypter</span><span class="hljs-operator">-&gt;</span>encrypt(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>);
<span class="hljs-comment">// now use the Mailer component to send this $encryptedEmail instead of the original email</span></code></pre>
    </div>
</div>
<p>You can pass more than one certificate to the <code translate="no" class="notranslate">SMimeEncrypter</code> constructor
and it will select the appropriate certificate depending on the <code translate="no" class="notranslate">To</code> option:</p>
<div translate="no" data-loc="18" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
        <pre class="codeblock-code"><code><span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firstEmail</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>to(<span class="hljs-string">'jane@example.com'</span>);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>secondEmail</span> = (<span class="hljs-keyword">new</span> Email())
    <span class="hljs-comment">// ...</span>
    <span class="hljs-operator">-&gt;</span>to(<span class="hljs-string">'john@example.com'</span>);

<span class="hljs-comment">// the second optional argument of SMimeEncrypter defines which encryption algorithm is used</span>
<span class="hljs-comment">// (it must be one of these constants: https://www.php.net/manual/en/openssl.ciphers.php)</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>encrypter</span> = <span class="hljs-keyword">new</span> SMimeEncrypter([
    <span class="hljs-comment">// key = email recipient; value = path to the certificate file</span>
    <span class="hljs-string">'jane@example.com'</span> =&gt; <span class="hljs-string">'/path/to/first-certificate.crt'</span>,
    <span class="hljs-string">'john@example.com'</span> =&gt; <span class="hljs-string">'/path/to/second-certificate.crt'</span>,
]);

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firstEncryptedEmail</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>encrypter</span><span class="hljs-operator">-&gt;</span>encrypt(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>firstEmail</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>secondEncryptedEmail</span> = <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>encrypter</span><span class="hljs-operator">-&gt;</span>encrypt(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>secondEmail</span>);</code></pre>
    </div>
</div>
<span id="multiple-email-transports"></span>
</div>
</div>
<div class="section">
<h2 id="multiple-email-transports"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#multiple-email-transports" title="Permalink to this headline">Multiple Email Transports</a></h2>
<p>You may want to use more than one mailer transport for delivery of your messages.
This can be configured by replacing the <code translate="no" class="notranslate">dsn</code> configuration entry with a
<code translate="no" class="notranslate">transports</code> entry, like:</p>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="6" class="notranslate codeblock codeblock-length-sm codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/mailer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">mailer:</span>
        <span class="hljs-attr">transports:</span>
            <span class="hljs-attr">main:</span> <span class="hljs-string">'%env(MAILER_DSN)%'</span>
            <span class="hljs-attr">alternative:</span> <span class="hljs-string">'%env(MAILER_DSN_IMPORTANT)%'</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="17" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/mailer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:mailer</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:transport</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"main"</span>&gt;</span>%env(MAILER_DSN)%<span class="hljs-tag">&lt;/<span class="hljs-name">framework:transport</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:transport</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"alternative"</span>&gt;</span>%env(MAILER_DSN_IMPORTANT)%<span class="hljs-tag">&lt;/<span class="hljs-name">framework:transport</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:mailer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="9" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/mailer.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>mailer()
        <span class="hljs-operator">-&gt;</span>transport(<span class="hljs-string">'main'</span>, <span class="hljs-string">'%env(MAILER_DSN)%'</span>)
        <span class="hljs-operator">-&gt;</span>transport(<span class="hljs-string">'alternative'</span>, <span class="hljs-string">'%env(MAILER_DSN_IMPORTANT)%'</span>)
    ;
};</code></pre>
    </div>
</div>
        </div>
    </div>
<p>By default the first transport is used. The other transports can be selected by
adding an <code translate="no" class="notranslate">X-Transport</code> header (which Mailer will remove automatically from
the final email):</p>
<div translate="no" data-loc="6" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// Send using first transport ("main"):</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span><span class="hljs-operator">-&gt;</span>send(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>);

<span class="hljs-comment">// ... or use the transport "alternative":</span>
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span><span class="hljs-operator">-&gt;</span>getHeaders()<span class="hljs-operator">-&gt;</span>addTextHeader(<span class="hljs-string">'X-Transport'</span>, <span class="hljs-string">'alternative'</span>);
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>mailer</span><span class="hljs-operator">-&gt;</span>send(<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span>);</code></pre>
    </div>
</div>
</div>
<div class="section">
<h2 id="sending-messages-async"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#sending-messages-async" title="Permalink to this headline">Sending Messages Async</a></h2>
<p>When you call <code translate="no" class="notranslate">$mailer-&gt;send($email)</code>, the email is sent to the transport immediately.
To improve performance, you can leverage <a href="https://symfony.com/doc/current/messenger.html" class="reference internal">Messenger</a> to send
the messages later via a Messenger transport.</p>
<p>Start by following the <a href="https://symfony.com/doc/current/messenger.html" class="reference internal">Messenger</a> documentation and configuring
a transport. Once everything is set up, when you call <code translate="no" class="notranslate">$mailer-&gt;send()</code>, a
<a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Messenger/SendEmailMessage.html" class="reference external" title="Symfony\Component\Mailer\Messenger\SendEmailMessage">SendEmailMessage</a> message will
be dispatched through the default message bus (<code translate="no" class="notranslate">messenger.default_bus</code>). Assuming
you have a transport called <code translate="no" class="notranslate">async</code>, you can route the message there:</p>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="8" class="notranslate codeblock codeblock-length-sm codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/messenger.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">messenger:</span>
        <span class="hljs-attr">transports:</span>
            <span class="hljs-attr">async:</span> <span class="hljs-string">"%env(MESSENGER_TRANSPORT_DSN)%"</span>

        <span class="hljs-attr">routing:</span>
            <span class="hljs-string">'Symfony\Component\Mailer\Messenger\SendEmailMessage'</span><span class="hljs-string">:</span> <span class="hljs-string">async</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="19" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/messenger.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony
        https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:messenger</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:transport</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"async"</span>&gt;</span>%env(MESSENGER_TRANSPORT_DSN)%<span class="hljs-tag">&lt;/<span class="hljs-name">framework:transport</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:routing</span> <span class="hljs-attr">message-class</span>=<span class="hljs-string">"Symfony\Component\Mailer\Messenger\SendEmailMessage"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:sender</span> <span class="hljs-attr">service</span>=<span class="hljs-string">"async"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:routing</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:messenger</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="11" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/messenger.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>messenger()
        <span class="hljs-operator">-&gt;</span>transport(<span class="hljs-string">'async'</span>)<span class="hljs-operator">-&gt;</span>dsn(<span class="hljs-string">'%env(MESSENGER_TRANSPORT_DSN)%'</span>);

    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>messenger()
        <span class="hljs-operator">-&gt;</span>routing(<span class="hljs-string">'Symfony\Component\Mailer\Messenger\SendEmailMessage'</span>)
        <span class="hljs-operator">-&gt;</span>senders([<span class="hljs-string">'async'</span>]);
};</code></pre>
    </div>
</div>
        </div>
    </div>
<p>Thanks to this, instead of being delivered immediately, messages will be sent to
the transport to be handled later (see <a href="https://symfony.com/doc/current/messenger.html#messenger-worker" class="reference internal">Messenger: Sync &amp; Queued Message Handling</a>).</p>
<p>You can configure which bus is used to dispatch the message using the <code translate="no" class="notranslate">message_bus</code> option.
You can also set this to <code translate="no" class="notranslate">false</code> to call the Mailer transport directly and
disable asynchronous delivery.</p>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="4" class="notranslate codeblock codeblock-length-sm codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/mailer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">mailer:</span>
        <span class="hljs-attr">message_bus:</span> <span class="hljs-string">app.another_bus</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="17" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/messenger.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony
        https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:mailer</span>
            <span class="hljs-attr">message_bus</span>=<span class="hljs-string">"app.another_bus"</span>
        &gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:mailer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="7" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/mailer.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>mailer()
        <span class="hljs-operator">-&gt;</span>messageBus(<span class="hljs-string">'app.another_bus'</span>);
};</code></pre>
    </div>
</div>
        </div>
    </div>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.1</span>
    </p><p>The <code translate="no" class="notranslate">message_bus</code> option was introduced in Symfony 5.1.</p>
</div>
</div>
<div class="section">
<h2 id="adding-tags-and-metadata-to-emails"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#adding-tags-and-metadata-to-emails" title="Permalink to this headline">Adding Tags and Metadata to Emails</a></h2>
<div class="admonition admonition-versionadded ">
    <p class="admonition-title">
                                    <span>5.1</span>
    </p><p>The <a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Header/TagHeader.html" class="reference external" title="Symfony\Component\Mailer\Header\TagHeader">TagHeader</a> and
<a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Header/MetadataHeader.html" class="reference external" title="Symfony\Component\Mailer\Header\MetadataHeader">MetadataHeader</a> classes were
introduced in Symfony 5.1.</p>
</div>
<p>Certain 3rd party transports support email <em>tags</em> and <em>metadata</em>, which can be used
for grouping, tracking and workflows. You can add those by using the
<a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Header/TagHeader.html" class="reference external" title="Symfony\Component\Mailer\Header\TagHeader">TagHeader</a> and
<a href="https://api.symfony.com/5.3/Symfony/Component/Mailer/Header/MetadataHeader.html" class="reference external" title="Symfony\Component\Mailer\Header\MetadataHeader">MetadataHeader</a> classes. If your transport
supports headers, it will convert them to their appropriate format:</p>
<div translate="no" data-loc="6" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6</pre>
        <pre class="codeblock-code"><code><span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mailer</span>\<span class="hljs-title">Header</span>\<span class="hljs-title">MetadataHeader</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Component</span>\<span class="hljs-title">Mailer</span>\<span class="hljs-title">Header</span>\<span class="hljs-title">TagHeader</span>;

<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span><span class="hljs-operator">-&gt;</span>getHeaders()<span class="hljs-operator">-&gt;</span>add(<span class="hljs-keyword">new</span> TagHeader(<span class="hljs-string">'password-reset'</span>));
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span><span class="hljs-operator">-&gt;</span>getHeaders()<span class="hljs-operator">-&gt;</span>add(<span class="hljs-keyword">new</span> MetadataHeader(<span class="hljs-string">'Color'</span>, <span class="hljs-string">'blue'</span>));
<span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>email</span><span class="hljs-operator">-&gt;</span>getHeaders()<span class="hljs-operator">-&gt;</span>add(<span class="hljs-keyword">new</span> MetadataHeader(<span class="hljs-string">'Client-ID'</span>, <span class="hljs-string">'12345'</span>));</code></pre>
    </div>
</div>
<p>If your transport does not support tags and metadata, they will be added as custom headers:</p>
<div translate="no" data-loc="3" class="notranslate codeblock codeblock-length-sm codeblock-text"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3</pre>
        <pre class="codeblock-code"><code>X-Tag: password-reset
X-Metadata-Color: blue
X-Metadata-Client-ID: 12345</code></pre>
    </div>
</div>
<p>The following transports currently support tags and metadata:</p>
<ul><li>MailChimp</li>
<li>Mailgun</li>
<li>Postmark</li>
<li>Sendinblue</li>
</ul></div>
<div class="section">
<h2 id="development-debugging"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#development-debugging" title="Permalink to this headline">Development &amp; Debugging</a></h2>
<div class="section">
<h3 id="disabling-delivery"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#disabling-delivery" title="Permalink to this headline">Disabling Delivery</a></h3>
<p>While developing (or testing), you may want to disable delivery of messages
entirely. You can do this by using <code translate="no" class="notranslate">null://null</code> as the mailer DSN, either in
your <a href="https://symfony.com/doc/current/configuration.html#configuration-multiple-env-files" class="reference internal">.env configuration files</a> or in
the mailer configuration file (e.g. in the <code translate="no" class="notranslate">dev</code> or <code translate="no" class="notranslate">test</code> environments):</p>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="4" class="notranslate codeblock codeblock-length-sm codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/dev/mailer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">mailer:</span>
        <span class="hljs-attr">dsn:</span> <span class="hljs-string">'null://null'</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="14" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/mailer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:mailer</span> <span class="hljs-attr">dsn</span>=<span class="hljs-string">"null://null"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="8" class="notranslate codeblock codeblock-length-sm codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/mailer.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>mailer()
        <span class="hljs-operator">-&gt;</span>dsn(<span class="hljs-string">'null://null'</span>);
};</code></pre>
    </div>
</div>
        </div>
    </div>
<div class="admonition admonition-note ">
    <p class="admonition-title">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg><span>Note</span>
    </p><p>If you're using Messenger and routing to a transport, the message will <em>still</em>
be sent to that transport.</p>
</div>
</div>
<div class="section">
<h3 id="always-send-to-the-same-address"><a class="headerlink" href="https://symfony.com/doc/current/mailer.html#always-send-to-the-same-address" title="Permalink to this headline">Always Send to the same Address</a></h3>
<p>Instead of disabling delivery entirely, you might want to <em>always</em> send emails to
a specific address, instead of the <em>real</em> address:</p>
<div class="configuration-block">
    <ul class="configuration-tabs configuration-tabs-length-3"><li data-language="yaml" data-active="true">
                <span>YAML</span>
            </li>
                    <li data-language="xml">
                <span>XML</span>
            </li>
                    <li data-language="php">
                <span>PHP</span>
            </li>
            </ul><div class="configuration-codeblock" data-language="yaml" style="">
            <div translate="no" data-loc="5" class="notranslate codeblock codeblock-length-sm codeblock-yaml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment"># config/packages/dev/mailer.yaml</span>
<span class="hljs-attr">framework:</span>
    <span class="hljs-attr">mailer:</span>
        <span class="hljs-attr">envelope:</span>
            <span class="hljs-attr">recipients:</span> <span class="hljs-string">['youremail@example.com']</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="xml" style="display: none">
            <div translate="no" data-loc="18" class="notranslate codeblock codeblock-length-md codeblock-xml"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">&lt;!-- config/packages/mailer.xml --&gt;</span>
<span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">container</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services"</span>
    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="hljs-attr">xmlns:framework</span>=<span class="hljs-string">"http://symfony.com/schema/dic/symfony"</span>
    <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://symfony.com/schema/dic/services
        https://symfony.com/schema/dic/services/services-1.0.xsd
        http://symfony.com/schema/dic/symfony https://symfony.com/schema/dic/symfony/symfony-1.0.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- ... --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">framework:config</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">framework:mailer</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">framework:envelope</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">framework:recipient</span>&gt;</span>youremail@example.com<span class="hljs-tag">&lt;/<span class="hljs-name">framework:recipient</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">framework:envelope</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">framework:mailer</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">framework:config</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">container</span>&gt;</span></code></pre>
    </div>
</div>
        </div>
            <div class="configuration-codeblock" data-language="php" style="display: none">
            <div translate="no" data-loc="10" class="notranslate codeblock codeblock-length-md codeblock-php"><button class="btn-codeblock-copy-code">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" height="21" width="21" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path>
                </svg>
             Copy</button>
    <div class="codeblock-scroll">
        <pre class="codeblock-lines">1
2
3
4
5
6
7
8
9
10</pre>
        <pre class="codeblock-code"><code><span class="hljs-comment">// config/packages/mailer.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">Symfony</span>\<span class="hljs-title">Config</span>\<span class="hljs-title">FrameworkConfig</span>;

<span class="hljs-keyword">return</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(FrameworkConfig <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span>)</span> </span>{
    <span class="hljs-comment">// ...</span>
    <span class="hljs-variable"><span class="hljs-variable-other-marker">$</span>framework</span><span class="hljs-operator">-&gt;</span>mailer()
        <span class="hljs-operator">-&gt;</span>envelope()
            <span class="hljs-operator">-&gt;</span>recipients([<span class="hljs-string">'youremail@example.com'</span>])
    ;
};</code></pre>
    </div>
</div>
        </div>
    </div>
</div>
</div>
</div>

    

                    
                    <div class="doc-license">
                        This work, including the code samples, is licensed under a
                                                    <a rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons BY-SA 3.0</a>
                                                license.
                    </div>
                </article>
</section>
        </article>
    <aside>
        <div class="sticky-contents">                                                    <div class="doc-backer">
                    <div>
                                                    <strong>Symfony 5.3</strong>
                                                is <a href="https://symfony.com/backers">backed</a> by <a class="link stretched-link" href="https://jolicode.com/">JoliCode</a>.
                    </div>
                    <div class="backer_logo"><svg xmlns="http://www.w3.org/2000/svg" width="395.505" height="91.806" fill="none" viewBox="0 0 395.505 91.806" class="backer-logo-jolicode">
  <style>
    .backer-logo-jolicode path.jolicode-logo-letter { fill: #2b2b2a; }
    .dark-theme .backer-logo-jolicode path.jolicode-logo-letter { fill: #FFFFFF; }
  </style>
  <g transform="matrix(1.25 0 0 -1.25 -174.487 572.131)">
    <path class="jolicode-logo-letter" d="M201.208 440.446v.063l-.007-.002a2.967 2.967 0 01-5.912-.48h-.002v-41.854c0-2.17-.776-4.033-2.331-5.587-1.554-1.555-3.368-2.332-5.44-2.332-2.393 0-4.366.777-5.921 2.332-1.53 1.505-2.32 3.403-2.368 5.7v17.417h-.01l.002.055a2.962 2.962 0 01-3.084 2.827 2.957 2.957 0 01-2.826-2.896h-.004v-17.516c0-3.797 1.358-7.079 4.07-9.843 2.666-2.714 5.97-4.07 9.919-4.07 3.849 0 7.13 1.356 9.844 4.07 2.713 2.715 4.07 5.994 4.07 9.843v41.873c.008.13.01.26 0 .391v.01M260.363 446.628c1.01 0 1.868.364 2.578 1.093.71.73 1.065 1.596 1.065 2.606 0 1.027-.355 1.896-1.065 2.605-.728.73-1.588 1.093-2.578 1.093-1.009 0-1.869-.364-2.578-1.093a3.591 3.591 0 01-1.065-2.605c0-1.029.353-1.9 1.065-2.62a3.487 3.487 0 012.578-1.079M198.173 454.025c-1.009 0-1.869-.364-2.579-1.093a3.598 3.598 0 01-1.064-2.605c0-1.029.354-1.9 1.064-2.62a3.49 3.49 0 012.58-1.079c1.008 0 1.867.364 2.577 1.093.711.73 1.065 1.596 1.065 2.606 0 1.027-.354 1.896-1.065 2.605-.728.73-1.588 1.093-2.578 1.093M226.212 413.086c-.05-2.294-.84-4.194-2.37-5.697-1.578-1.555-3.403-2.332-5.476-2.332-2.145 0-4.057.777-5.736 2.332-1.652 1.528-2.48 3.428-2.48 5.697v13.619c.025 2.122.803 3.947 2.333 5.478 1.554 1.553 3.367 2.33 5.439 2.33 2.369 0 4.342-.777 5.92-2.33 1.53-1.506 2.32-3.405 2.37-5.7v-13.397zm-8.067 27.423c-3.85 0-7.13-1.358-9.843-4.072-2.715-2.714-4.071-5.994-4.071-9.843v-13.618c0-3.85 1.356-7.131 4.07-9.845 2.714-2.714 5.995-4.07 9.844-4.07 3.847 0 7.14 1.356 9.88 4.07 2.738 2.714 4.108 5.996 4.108 9.845v13.618c0 3.849-1.37 7.129-4.108 9.843-2.74 2.714-6.033 4.072-9.88 4.072M373.107 419.822v6.771c0 2.171.777 4.035 2.332 5.59 1.553 1.553 3.367 2.33 5.438 2.33 2.371 0 4.343-.779 5.923-2.337 1.43-1.409 2.205-3.153 2.33-5.23l-16.023-7.124zm21.98 6.771c0 3.998-1.37 7.278-4.106 9.844-2.886 2.714-6.18 4.072-9.88 4.072-3.849 0-7.13-1.358-9.846-4.072-2.713-2.714-4.069-5.994-4.069-9.844v-13.618c0-3.848 1.356-7.13 4.07-9.844 2.714-2.714 5.996-4.07 9.844-4.07 3.847 0 7.031 1.333 9.55 3.997 2.957 3.158 4.437 6.464 4.437 9.917v2.32a2.972 2.972 0 01-2.97 2.941 2.974 2.974 0 01-2.938-2.524l-.012.003v-.096a2.98 2.98 0 01-.024-.355 3 3 0 01.024-.357v-1.82c-.05-2.295-.839-4.196-2.367-5.699-1.58-1.554-3.406-2.332-5.478-2.332-2.368 0-4.33.795-5.883 2.387-1.555 1.591-2.332 3.557-2.332 5.9l21.98 9.772v3.478zM358.912 413.086c-.05-2.294-.84-4.194-2.368-5.697-1.58-1.555-3.405-2.332-5.476-2.332-2.147 0-4.059.777-5.738 2.332-1.652 1.528-2.48 3.428-2.48 5.697v13.619c.026 2.122.803 3.947 2.333 5.478 1.555 1.553 3.368 2.33 5.44 2.33 2.368 0 4.341-.777 5.921-2.33 1.527-1.506 2.318-3.405 2.368-5.7v-13.397zm2.988 44.048a2.967 2.967 0 01-2.967-2.871l-.02-.001V437.99c-2.345 1.678-5.033 2.518-8.068 2.518-3.849 0-7.128-1.358-9.843-4.072-2.714-2.714-4.07-5.994-4.07-9.843v-13.618c0-3.85 1.356-7.131 4.07-9.845 2.715-2.714 5.994-4.07 9.843-4.07 3.848 0 7.143 1.356 9.88 4.07 2.74 2.714 4.11 5.996 4.11 9.845v40.732c.021.149.037.299.037.454a2.972 2.972 0 01-2.972 2.972"></path>
    <path class="jolicode-logo-letter" d="M328.538 413.086c-.05-2.294-.838-4.194-2.368-5.697-1.58-1.555-3.403-2.332-5.476-2.332-2.147 0-4.059.777-5.738 2.332-1.652 1.528-2.48 3.428-2.48 5.697v2.235c.003.07.012.138.012.208v3.072l-.012-.004v8.108c.026 2.122.803 3.947 2.333 5.478 1.555 1.553 3.368 2.33 5.44 2.33 2.37 0 4.341-.777 5.921-2.33 1.53-1.506 2.318-3.405 2.368-5.7v-13.397zm-8.067 27.423c-3.849 0-7.128-1.358-9.843-4.072-2.714-2.714-4.069-5.994-4.069-9.843v-11.365c-.046-2.877-1.099-5.333-3.174-7.36-2.122-2.098-4.65-3.144-7.587-3.144-2.985 0-5.527 1.046-7.624 3.145-1.91 1.91-2.94 4.174-3.11 6.784v1.282l-.034-.004v22.688c0 2.96 1.047 5.483 3.144 7.568 2.097 2.085 4.64 3.127 7.624 3.127 2.936 0 5.465-1.048 7.587-3.145.863-.855 1.786-2.264 2.541-3.608a2.893 2.893 0 015.138 2.644l.007.004c-.806 1.772-1.962 3.413-3.469 4.919-3.207 3.233-7.14 4.848-11.804 4.848-4.614 0-8.549-1.61-11.804-4.828-3.257-3.22-4.886-7.1-4.886-11.638v-22.982c0-.24.023-.467.032-.703-.027-3.936-.802-5.606-2.329-7.252-1.553-1.68-3.367-2.517-5.44-2.517-2.368 0-4.342.777-5.92 2.332-1.53 1.503-2.319 3.403-2.369 5.697v27.423l-.016-.002v.036a2.953 2.953 0 11-5.9-.25c0-.01.003-.02.003-.032h-.007v-26.904l-.025-.011c0-2.172-.777-4.095-2.332-5.772-1.554-1.68-3.368-2.517-5.44-2.517-2.369 0-4.34.777-5.92 2.332-1.53 1.503-2.32 3.403-2.368 5.697v41.468c.003.062.01.123.01.186a2.965 2.965 0 01-5.93 0v-.01h-.003v-41.754c0-3.85 1.37-7.131 4.11-9.845 2.738-2.714 6.031-4.07 9.88-4.07 3.847 0 7.128 1.356 9.843 4.07.413.414.785.848 1.135 1.286.355-.438.73-.872 1.147-1.286 2.738-2.714 6.032-4.07 9.881-4.07 3.85 0 7.13 1.356 9.843 4.07a14.8 14.8 0 011.758 2.11c.386-.467.795-.926 1.243-1.37 3.23-3.206 7.166-4.81 11.804-4.81 4.613 0 8.548 1.61 11.804 4.83.45.445.861.906 1.25 1.376a15.002 15.002 0 011.776-2.136c2.715-2.714 5.994-4.07 9.843-4.07 3.848 0 7.143 1.356 9.882 4.07 2.737 2.714 4.107 5.996 4.107 9.845v13.618c0 3.849-1.37 7.129-4.107 9.843-2.739 2.714-6.034 4.072-9.882 4.072"></path>
    <path d="M433.546 396.935c-.69 0-1.38.262-1.905.788a2.697 2.697 0 000 3.81l17.846 17.847-17.846 17.847a2.695 2.695 0 103.812 3.811l19.752-19.752a2.692 2.692 0 000-3.811l-19.752-19.752a2.687 2.687 0 00-1.907-.788M162.037 397.637c-.69 0-1.378.263-1.905.789l-19.753 19.752a2.695 2.695 0 000 3.811l19.752 19.752a2.694 2.694 0 003.81 0 2.694 2.694 0 000-3.811l-17.846-17.847 17.847-17.846a2.694 2.694 0 00-1.905-4.6M401.738 390.904a2.694 2.694 0 00-2.49 3.723l21.248 51.558a2.695 2.695 0 104.983-2.053l-21.248-51.557a2.695 2.695 0 00-2.493-1.67" fill="#e9ce37"></path>
  </g>
</svg>
</div>
                </div>
            
                            
<div class="highlights">
            <div class="highlight-item highlight-hidden">
            <div class="highlight-carbon">
    <script defer="" type="text/javascript" src="./Sending Emails with Mailer (Symfony Docs)_files/carbon.js.téléchargement" id="_carbonads_js"></script><div id="carbonads"><span><span class="carbon-wrap"><a href="https://srv.carbonads.net/ads/click/x/GTND42JICWSIP5QJCEALYKQNCKBIC23WCKSI4Z3JCY7IPKJ7C6SDV2JKC6YI4K7LCEBDC2QWF6YIL27WCTADL23IHEYIKK7MCASDV23ECTNCYBZ52K?segment=placement:symfonycom;" class="carbon-img" target="_blank" rel="noopener sponsored"><img src="./Sending Emails with Mailer (Symfony Docs)_files/1630683803-shortcut260x200.3.png" alt="ads via Carbon" border="0" height="100" width="130" style="max-width: 130px;"></a><a href="https://srv.carbonads.net/ads/click/x/GTND42JICWSIP5QJCEALYKQNCKBIC23WCKSI4Z3JCY7IPKJ7C6SDV2JKC6YI4K7LCEBDC2QWF6YIL27WCTADL23IHEYIKK7MCASDV23ECTNCYBZ52K?segment=placement:symfonycom;" class="carbon-text" target="_blank" rel="noopener sponsored">Shortcut puts the "can" in Kanban and the agile in Agile. Delight the scrum gods and try us for free.</a></span><a href="http://carbonads.net/?utm_source=symfonycom&amp;utm_medium=ad_via_link&amp;utm_campaign=in_unit&amp;utm_term=carbon" class="carbon-poweredby" target="_blank" rel="noopener sponsored">ads via Carbon</a></span></div>
</div>

        </div>
            <div class="highlight-item highlight-hidden">
            <div class="highlight-symfony">
    <a href="https://insight.symfony.com/?utm_source=ad&amp;utm_medium=banner&amp;utm_campaign=insight&amp;utm_content=sink" data-tracked="" data-category="Ads" data-action="sidebar" data-label="certif_insight">
        <img loading="lazy" src="./Sending Emails with Mailer (Symfony Docs)_files/sfinsight_02.png" height="100" width="130" alt="Save your teams and projects before they sink">
    </a>
    <p class="highlight-symfony-text">
        <a href="https://insight.symfony.com/?utm_source=ad&amp;utm_medium=banner&amp;utm_campaign=insight&amp;utm_content=sink">Save your teams and projects before they sink</a>
    </p>
</div>

        </div>
            <div class="highlight-item highlight-visible">
            <div class="highlight-symfony">
    <a href="https://symfony.com/cloud/?utm_source=ad&amp;utm_medium=banner&amp;utm_campaign=cloud&amp;utm_content=ease" data-tracked="" data-category="Ads" data-action="sidebar" data-label="cloud">
        <img loading="lazy" src="./Sending Emails with Mailer (Symfony Docs)_files/sfcloud_01.png" height="100" width="130" alt="Ease your Symfony developments">
    </a>
    <p class="highlight-symfony-text">
        <a href="https://symfony.com/cloud/?utm_source=ad&amp;utm_medium=banner&amp;utm_campaign=cloud&amp;utm_content=ease">Ease your Symfony developments</a>
    </p>
</div>

        </div>
            <div class="highlight-item highlight-hidden">
                    <style>
        .sf-aside-conferences {
            background: var(--page-background);
            border: 1px solid var(--gray-200);
            border-radius: 4px;
            display: flex;
            flex-wrap: nowrap;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif;
            margin: 0 0 30px;
            padding: 10px 15px;
        }

        .sf-aside-conferences-title { display: none; }

        .conference-container { flex-basis: 50%; padding: 0 10px; }
        .conference-container + .conference-container + .conference-container { display: none; }
        .conference-logo { display: none; }
        .conference-details a { display: block; font-size: 16px; line-height: 1.4; }
        .conference-con a { color: rgb(110, 53, 140); }
        .conference-live a { color: rgb(213, 5, 78); }
        .conference-metadata { color: var(--text-muted-color); font-size: 15px; }

        .dark-theme .sf-aside-conferences { border-color: #525252; }
        .dark-theme .conference-con a { color: #d2a8ff; }
        .dark-theme .conference-live a { color: #ff7b72; }

        @media (min-width: 768px) {
            .sf-aside-conferences {
                display: block;
                max-height: 180px;
                overflow-y: auto;
            }

            .sf-aside-conferences-title {
                display: block;
                color: var(--text-muted-color);
                font-size: 15px;
                line-height: 1.4;
            }
            .conference-title span { display: inline-block; }
            .conference-container { padding: 0; }
            .conference-container + .conference-container { margin-top: 20px; }
            .conference-container + .conference-container + .conference-container { display: block; }
        }

        @media (min-width: 992px) {
            .sf-aside-conferences { display: block; margin: 15px 5px 15px 0; max-height: unset; }
        }
    </style>

        <div class="sf-aside-conferences sf-aside-conferences-vertical">
        <p class="sf-aside-conferences-title">Symfony Conferences</p>

                        <div class="conference-container conference-con ">
        <div class="conference-logo optional-logo">
            <svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" xmlns:serif="http://www.serif.com/" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path fill="none" d="M0 0h300v300H0z"></path><clippath id="a"><path d="M0 0h300v300H0z"></path></clippath><g serif:id="sfcon-mini" clip-path="url(#a)"><path d="M300 30c0-16.557-13.443-30-30-30H30C13.443 0 0 13.443 0 30v240c0 16.557 13.443 30 30 30h240c16.557 0 30-13.443 30-30V30z" fill="#6e358c"></path><path d="M128.958 241.658c0 12.772 9.272 23.356 22.744 23.356 13.384 0 22.656-10.584 22.656-23.356 0-13.559-9.097-23.356-22.656-23.356-13.646 0-22.744 9.797-22.744 23.356zm-5.948-37.177c-4.374-1.925-9.01-2.625-13.734-2.625-18.633 0-32.279 12.51-32.279 31.317 0 19.42 12.859 31.841 32.191 31.841 3.587 0 9.273-.262 13.909-2.187l-.257-4.156a3.1 3.1 0 0 0-3.987-2.776c-2.991.903-6.623 1.421-9.577 1.421-12.684 0-23.006-9.534-23.006-23.881 0-13.733 9.359-23.881 23.443-23.881 3.038 0 5.995.528 8.787 1.582a3.098 3.098 0 0 0 4.178-2.646l.332-4.009zm68.676 21.956c2.45-5.073 8.398-8.135 14.609-8.135 11.547 0 16.708 7.173 16.708 19.157v23.406a3.101 3.101 0 0 1-3.1 3.1h-5.123v-23.094c0-10.41-2.274-15.483-9.447-15.921-9.36 0-13.559 7.523-13.559 18.37v17.545a3.101 3.101 0 0 1-3.1 3.1h-5.123v-44.613h4.861a3.098 3.098 0 0 1 3.099 3.099v3.986h.175zm-53.98 15.221c0-8.485 5.161-16.708 13.996-16.708 8.747 0 13.909 8.223 13.909 16.708 0 7.961-4.287 16.708-13.909 16.708-9.71 0-13.996-8.747-13.996-16.708zm131.721-62.666H30.577c-.355-.024-.449-.012-.794-.109-1.164-.326-2.062-1.423-2.145-2.636a3.007 3.007 0 0 1 1.409-2.719c.344-.209.73-.346 1.129-.401.133-.019.268-.019.401-.028H53c-7.987-7.798-9.293-17.234-7.409-23.363 2.511-8.144 8.984-9.683 15.314-7.741 6.779 2.096 9.432 10.333 7.493 16.657-.216.677-.562 1.805-1.274 3.324-.787 1.738-2.245 3.272-2.869 5.31-.693 2.253.33 4.211 2.099 5.813h27.289c1.97-1.871 3.447-4.169 4.233-6.74 2.444-7.89-2.548-13.398-4.615-15.512l-10.054-10.762c-4.598-5.12-14.713-19.398-9.779-35.432 1.904-6.184 5.91-12.742 11.724-17.083 12.275-9.147 25.621-10.648 38.327-6.995 16.448 4.729 24.347 15.602 34.59 24.005 5.735-16.818 13.683-33.283 25.635-47.176 10.794-12.652 25.297-21.822 41.908-22.39 16.596-.548 29.142 6.974 29.556 18.882.167 5.068-2.74 14.92-12.864 15.261-7.572.262-12.8-4.263-13.036-11.135-.085-2.519.566-4.724 2.292-7.301 1.688-3.304 2.049-3.683 2.006-5.12-.152-4.333-6.692-4.493-8.482-4.409-24.548.811-31.018 33.939-36.263 60.875l-2.569 14.205c14.136 2.067 24.172-.481 29.77-4.102 7.881-5.117-2.205-10.374-.933-16.191 1.288-5.931 6.683-8.794 10.969-8.914 6-.148 10.283 6.077 10.144 12.395-.216 10.444-14.069 24.793-41.783 24.207a96.847 96.847 0 0 1-9.38-.665l-5.228 28.86c-1.387 6.478-2.91 13.66-4.945 21.237h94.561l.401.028c.132.027.265.045.394.082a3.005 3.005 0 0 1 2.09 2.237c.272 1.308-.46 2.759-1.711 3.302-.246.107-.506.18-.773.217-.132.018-.267.018-.401.027zm-127.085-5.893c.469-2.383.942-4.832 1.422-7.35l1.674-10.152c2.723-13.608 5.741-28.784 10.342-43.905-11.162-8.404-17.847-18.821-32.86-22.892-10.29-2.793-16.562-.423-20.973 5.155-5.222 6.604-3.488 15.2 1.557 20.241l8.336 9.223c10.222 11.808 15.809 20.999 13.707 33.359-1.024 6.057-3.949 11.682-8.315 16.321h25.11z" fill="#fefefe"></path></g></svg>
        </div>

        <div class="conference-details">
            <a class="block" href="https://live.symfony.com/2021-world-winter/">
                SymfonyWorld Online 2021 Winter Edition
            </a>

            <div class="conference-metadata">
                                    Dec 9–10, 2021
                            </div>
        </div>
    </div>

        
            </div>




        </div>
    </div>

                            </div>    </aside>
</section>
                    </div>
                </div>
            </main>
        
                    <footer>
                <div class="container-xxl">
                    <div class="footer-content">
                                                                                    <hx:include src="/_sub?_hash=RB6O487KXNxE6F8jQvAXJ9jmT%2BihtqQrMn%2FyHTWsNv8%3D&amp;_path=_format%3Dhtml%26_locale%3Den%26_controller%3DApp%255CController%255CContentController%253A%253Afooter"></hx:include>
                            
                                                            <section>
                                    <p>
                                        <b>Symfony</b>™ is a trademark of Symfony SAS. <a href="https://symfony.com/trademark">All rights reserved</a>.
                                    </p>

                                    <ul class="sitemap ">
    <li>
        <h6><a href="https://symfony.com/what-is-symfony">What is Symfony?</a></h6>
        <ul class="list_menu_footer list-unstyled">
            
        <li id="menu-at-a-glance">
        <a href="https://symfony.com/at-a-glance">
                        Symfony at a Glance
        </a>
    </li>
            <li id="menu-components">
        <a href="https://symfony.com/components">
                        Symfony Components
        </a>
    </li>
            <li id="menu-case-studies">
        <a href="https://symfony.com/blog/category/case-studies">
                        Case Studies
        </a>
    </li>
            <li id="menu-symfony-releases">
        <a href="https://symfony.com/releases">
                        Symfony Releases
        </a>
    </li>
            <li id="menu-security-policy">
        <a href="https://symfony.com/doc/current/contributing/code/security.html">
                        Security Policy
        </a>
    </li>
            <li id="menu-logo">
        <a href="https://symfony.com/logo">
                        Logo &amp; Screenshots
        </a>
    </li>
            <li id="menu-license">
        <a href="https://symfony.com/license">
                        Trademark &amp; Licenses
        </a>
    </li>
            <li id="menu-symfony-legacy">
        <a href="https://symfony.com/legacy">
                        symfony1 Legacy
        </a>
    </li>
    
        </ul>
    </li>

    <li>
        <h6><a href="https://symfony.com/doc/current/index.html">Learn Symfony</a></h6>
        <ul class="list_menu_footer list-unstyled">
                
    


    <li class="">
        <a href="https://symfony.com/doc/current/setup.html">Getting Started</a>
    </li>
    <li class="">
        <a href="https://symfony.com/doc/current/components/index.html">Components</a>
    </li>
    <li class="">
        <a href="https://symfony.com/doc/current/best_practices/index.html">Best Practices</a>
    </li>
    <li class="">
        <a href="https://symfony.com/bundles">Bundles</a>
    </li>
    <li class="">
        <a href="https://symfony.com/doc/current/reference/index.html">Reference</a>
    </li>
    <li class="">
        <a href="https://training.sensiolabs.com/en/">Training</a>
    </li>
    <li class="">
        <a href="https://university.sensiolabs.com/e-learning-platform">eLearning Platform</a>
    </li>
    <li class="">
        <a href="https://certification.symfony.com/">Certification</a>
    </li>

        </ul>
    </li>

    <li>
        <h6><a href="https://symfonycasts.com/">Screencasts</a></h6>
        <ul class="list_menu_footer list-unstyled">
            <li><a href="https://symfonycasts.com/tracks/symfony">Learn Symfony</a></li>
            <li><a href="https://symfonycasts.com/tracks/php">Learn PHP</a></li>
            <li><a href="https://symfonycasts.com/tracks/javascript">Learn JavaScript</a></li>
            <li><a href="https://symfonycasts.com/tracks/drupal">Learn Drupal</a></li>
            <li><a href="https://symfonycasts.com/tracks/rest">Learn RESTful APIs</a></li>
        </ul>
    </li>

    <li>
        <h6><a href="https://symfony.com/community">Community</a></h6>
        <ul class="list_menu_footer list-unstyled">
            
        <li id="menu-symfony-connect">
        <a href="https://connect.symfony.com/">
                        SymfonyConnect
        </a>
    </li>
            <li id="menu-support">
        <a href="https://symfony.com/support">
                        Support
        </a>
    </li>
            <li id="menu-how-to-be-involved">
        <a href="https://symfony.com/doc/current/contributing/index.html">
                        How to be Involved
        </a>
    </li>
            <li id="menu-code-of-conduct">
        <a href="https://symfony.com/doc/current/contributing/code_of_conduct/code_of_conduct.html">
                        Code of Conduct
        </a>
    </li>
            <li id="menu-events">
        <a href="https://symfony.com/events/">
                        Events &amp; Meetups
        </a>
    </li>
            <li id="menu-projects">
        <a href="https://symfony.com/projects">
                        Projects using Symfony
        </a>
    </li>
            <li id="menu-downloads_stats">
        <a href="https://symfony.com/stats/downloads">
                        Downloads Stats
        </a>
    </li>
            <li id="menu-contributors">
        <a href="https://symfony.com/contributors">
                        Contributors
        </a>
    </li>
            <li id="menu-backers">
        <a href="https://symfony.com/backers">
                        Backers
        </a>
    </li>
    
        </ul>
    </li>

    <li>
        <h6><a href="https://symfony.com/blog/">Blog</a></h6>
        <ul class="list_menu_footer list-unstyled">
            <li>
    <a href="https://symfony.com/events">Events &amp; Meetups</a>
</li>


    <li class="">
        <a href="https://symfony.com/blog/category/a-week-of-symfony">A week of symfony</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/case-studies">Case studies</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/cloud">Cloud</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/community">Community</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/conferences">Conferences</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/diversity">Diversity</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/documentation">Documentation</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/living-on-the-edge">Living on the edge</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/releases">Releases</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/security-advisories">Security Advisories</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/symfony-insight">SymfonyInsight</a>
    </li>
    <li class="">
        <a href="https://symfony.com/blog/category/twig">Twig</a>
    </li>

<li style="margin-bottom: 20px">
    <a href="https://blog.sensiolabs.com/">SensioLabs</a>
</li>

        </ul>
    </li>

    <li>
        <h6><a href="https://sensiolabs.com/">Services</a></h6>
        <ul class="list_menu_footer list-unstyled">
            <li><a href="https://sensiolabs.com/">Our services</a></li>
            <li><a href="https://training.sensiolabs.com/en">Train developers</a></li>
            <li><a href="https://insight.symfony.com/">Manage your project quality</a></li>
            <li><a href="https://blackfire.io/?utm_source=symfony&amp;utm_medium=symfonycom_footer&amp;utm_campaign=profiler">Improve your project performance</a></li>
            <li><a href="https://symfony.com/cloud/">Host Symfony projects</a></li>
        </ul>

        <h6 class="m-t-30"><a href="https://symfony.com/about">About</a></h6>
        <ul class="list_menu_footer list-unstyled">
            
        <li id="menu-sensiolabs">
        <a href="https://sensiolabs.com/en/join_us/join_us.html">
                        SensioLabs
        </a>
    </li>
            <li id="menu-careers">
        <a href="https://sensiolabs.com/en/join_us/our_job_offers.html">
                        Careers
        </a>
    </li>
            <li id="menu-support">
        <a href="https://symfony.com/support">
                        Support
        </a>
    </li>
            <li id="menu-cloud_tos">
        <a href="https://symfony.com/cloud/tos">
                        Cloud TOS
        </a>
    </li>
    
        </ul>

                    <div class="m-t-30">
                <h6><span>Deployed on</span></h6>
                <a href="https://symfony.com/cloud/" class="block m-t-10" title="SymfonyCloud, a Platform-as-a-Service built and optimized for Symfony developers">
                    <svg width="170" viewBox="0 0 1830 300" xmlns="http://www.w3.org/2000/svg" xmlns:serif="http://www.serif.com/" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path fill="none" d="M0 0h1830v300H0z"></path><g serif:id="sfcloud-large-white"><path d="M300 30c0-16.557-13.443-30-30-30H30C13.443 0 0 13.443 0 30v240c0 16.557 13.443 30 30 30h240c16.557 0 30-13.443 30-30V30z" fill="#fff"></path><path d="M225.973 38.889c-16.691.571-31.263 9.785-42.109 22.497-12.009 13.961-19.996 30.505-25.759 47.404-10.292-8.444-18.229-19.369-34.756-24.121-12.768-3.671-26.177-2.162-38.512 7.029-5.842 4.362-9.867 10.951-11.78 17.165-4.957 16.111 5.206 30.458 9.826 35.603l10.102 10.814c2.077 2.124 7.093 7.658 4.638 15.586-2.64 8.634-13.041 14.206-23.708 10.931-4.767-1.462-11.611-5.01-10.075-9.999.627-2.048 2.092-3.589 2.883-5.336.714-1.526 1.063-2.66 1.28-3.339 1.948-6.355-.718-14.632-7.53-16.738-6.36-1.951-12.864-.405-15.387 7.778-2.859 9.299 1.591 26.178 25.434 33.523 27.932 8.596 51.555-6.619 54.906-26.447 2.113-12.42-3.501-21.654-13.772-33.52l-8.377-9.267c-5.068-5.065-6.811-13.702-1.564-20.338 4.433-5.605 10.735-7.987 21.074-5.18 15.085 4.09 21.803 14.558 33.018 23.002-4.623 15.193-7.655 30.443-10.392 44.116l-1.681 10.202c-8.016 42.045-14.139 65.143-30.045 78.4-3.208 2.283-7.788 5.696-14.69 5.939-3.627.111-4.796-2.385-4.846-3.475-.082-2.534 2.057-3.7 3.478-4.84 2.13-1.163 5.344-3.085 5.124-9.246-.232-7.281-6.261-13.591-14.98-13.301-6.528.22-16.48 6.357-16.102 17.608.384 11.622 11.212 20.329 27.543 19.776 8.728-.293 28.222-3.844 47.427-26.673 22.357-26.18 28.609-56.181 33.311-78.143l5.253-28.999c2.913.352 6.033.589 9.426.668 27.847.589 41.766-13.828 41.983-24.323.141-6.349-4.163-12.604-10.192-12.454-4.307.12-9.727 2.997-11.022 8.956-1.278 5.845 8.856 11.127.937 16.269-5.625 3.639-15.709 6.199-29.913 4.122l2.581-14.274c5.271-27.065 11.772-60.353 36.438-61.167 1.799-.085 8.37.076 8.523 4.429.044 1.445-.32 1.826-2.016 5.145-1.734 2.59-2.388 4.805-2.303 7.336.238 6.906 5.491 11.453 13.099 11.189 10.172-.343 13.093-10.242 12.926-15.334-.416-11.965-13.022-19.524-29.699-18.973z" fill="#18171b" fill-rule="nonzero"></path><path d="M612.349 103.388l-46.356 128.475c-8.638 24.154-17.761 52.023-48.319 52.023-7.401 0-11.61-.991-15.792-1.728l.62-8.025c.894-5.684 4.879-9.376 10.163-9.089.507.04 1.03.09 1.542.09 20.716 0 27.621-28.594 27.621-31.059 0-2.707-2.96-9.117-4.446-13.315L494.73 103.388h16.162c.04 0 .068.028.124.028 4.908 0 9.652 3.383 11.689 7.947l31.2 96.082h.495l31.898-96.133c2.06-4.541 6.793-7.896 11.678-7.896.056 0 .067-.028.123-.028h14.25zm686.164 0l-46.356 128.475c-8.638 24.154-17.772 52.023-48.336 52.023-7.389 0-11.599-.991-15.791-1.728l.63-8.025c.895-5.684 4.885-9.376 10.152-9.089.524.04 1.036.09 1.542.09 20.716 0 27.632-28.594 27.632-31.059 0-2.707-2.971-9.117-4.457-13.315l-42.652-117.372h16.163c.039 0 .067.028.112.028 4.907 0 9.668 3.383 11.7 7.947l31.2 96.082h.507l31.886-96.133c2.049-4.541 6.793-7.896 11.678-7.896.056 0 .084-.028.123-.028h14.267zm-324.415-2.954c38.223 0 63.846 27.621 63.846 65.833 0 36-26.118 65.827-63.846 65.827-37.965 0-64.1-29.827-64.1-65.827 0-38.212 25.623-65.833 64.1-65.833zm462.491-39.078c-8.823-4.656-29.165-6.372-39.214-6.372-52.939 0-86.271 36.518-86.271 88.477 0 52.939 32.352 88.476 86.271 88.476 10.784 0 29.901-1.715 39.214-7.352v-.001a11.024 11.024 0 0 0-13.549-9.992c-8.629 2.026-18.376 2.64-25.665 2.64-45.096 0-69.36-30.636-69.36-73.771 0-42.4 24.999-73.772 69.36-73.772 7.51 0 16.362.671 24.578 2.553a11.942 11.942 0 0 0 14.631-10.884l.005-.002zm46.344 105.143c0 34.067 17.891 65.438 58.331 65.438 40.439 0 58.331-31.371 58.331-65.438 0-34.067-17.892-65.438-58.331-65.438-40.44 0-58.331 31.371-58.331 65.438zm227.107-62.497h-2.737a12.703 12.703 0 0 0-12.703 12.704v56.41c0 20.833-8.824 45.587-37.009 45.587-21.322 0-29.655-15.196-29.655-38.724v-63.273a12.704 12.704 0 0 0-12.704-12.704h-2.737V183.9c0 27.45 11.764 48.037 42.645 48.037 25.98 0 35.293-13.97 40.44-25.244h.49v22.303h1.401a12.704 12.704 0 0 0 12.704-12.719l-.135-112.275zm104.029 21.077V45.181h2.736a12.7 12.7 0 0 1 8.983 3.721 12.7 12.7 0 0 1 3.721 8.983v158.408a12.703 12.703 0 0 1-12.704 12.703h-2.736v-19.852h-.491c-8.333 15.931-21.077 22.793-38.968 22.793-34.313 0-51.469-28.43-51.469-65.438 0-37.989 14.705-65.438 51.469-65.438 24.508 0 36.763 17.891 38.968 24.018h.491zM424.419 231.835h-.147c-11.733 0-23.411-3.213-34.801-6.894l.697-6.781c.665-6.061 4.925-10.642 10.125-9.792 8.284 2.616 18.115 4.879 27.182 4.907 15.487-.028 37.964-8.622 38.077-31.909-.18-22.325-21.256-29.956-40.486-39.203-19.601-9.488-37.824-19.978-37.88-47.025.084-30.935 24.002-47.149 56.232-47.346 8.841 0 18.993 1.221 28.707 3.636l-.428 7.603c-.63 5.233-5.076 9.387-10.383 8.998-.084 0-.084.079-.141.079-5.031-1.103-10.175-1.739-16.613-1.739-.028 0-.095 0-.152.011-14.829-.022-34.042 5.476-34.115 26.406.372 19.702 21.307 26.354 40.458 36.146 19.517 9.916 37.863 22.027 37.919 50.869-.107 37.374-28.155 51.775-64.251 52.034zm647.074-2.696h-12.736V103.388h11.801c.04 0 .051.028.107.028 5.808 0 10.513 4.705 10.513 10.53 0 .022.022.022.022.034v9.398h.484c6.917-14.306 23.671-22.944 41.184-22.944 32.545 0 47.098 20.226 47.098 54.003v64.668c-.264 5.577-4.817 10.029-10.456 10.029-.028 0-.028.005-.039.005h-12.697v-65.09c0-29.348-6.381-43.643-26.619-44.869-26.382 0-38.223 21.205-38.223 51.775v48.499c-.428 5.408-4.896 9.68-10.411 9.68-.027 0-.028.005-.028.005zm-208.378 0h-12.763V122.14h-19.151c-.028 0-.051-.028-.079-.028-5.284 0-9.618-3.895-10.372-8.954v-9.77h29.602v-9.983c0-30.581 7.895-50.554 42.157-50.554 5.903 0 10.856.737 15.532 1.48l-.399 7.592c-.321 5.538-4.924 10.051-10.468 9.646-.056 0-.045.062-.084.062-.383-.017-.771-.045-1.142-.045-19.956 0-22.421 12.836-22.421 29.843v11.959h33.288v8.751c-.259 5.454-4.649 9.821-10.108 10.001h-23.18v97.905c-.715 5.11-5.06 9.089-10.372 9.089-.028 0-.011.005-.04.005zm-219.48 0h-12.556V103.388h11.087c.039 0 .068.028.113.028 5.774 0 10.422 4.649 10.506 10.4v7.829h.496c8.858-14.554 21.441-21.211 39.928-21.211 14.554 0 29.096 7.4 35.764 24.413 8.628-17.992 27.61-24.413 38.944-24.413 32.072 0 43.643 20.715 43.643 48.089v72.411c-1.058 4.699-5.228 8.2-10.231 8.2-.017 0-.017.005-.028.005h-12.905V154.19c0-15.538-3.714-35.01-22.449-35.01-23.658 0-33.04 23.18-33.04 46.603v53.784c-.495 5.357-4.924 9.567-10.4 9.567-.028 0-.028.005-.039.005h-12.724V154.19c0-15.538-3.715-35.01-22.449-35.01-23.671 0-33.041 23.18-33.041 46.603V218.3c-.028.102-.078.164-.078.321 0 5.802-4.705 10.513-10.513 10.513-.011 0-.027.005-.028.005zm810.039-.143h2.737a12.706 12.706 0 0 0 12.704-12.703V57.885a12.704 12.704 0 0 0-12.704-12.704h-2.737v183.815zm46.166-62.497c0-28.92 14.46-52.204 41.42-52.204 26.959 0 41.42 23.284 41.42 52.204s-14.461 52.204-41.42 52.204c-26.96 0-41.42-23.284-41.42-52.204zm240.208 0c0-24.264 7.598-52.204 37.008-52.204 27.45 0 37.009 29.411 37.009 52.204s-9.559 52.204-37.009 52.204c-29.41 0-37.008-27.94-37.008-52.204zm-765.954 46.877c27.109 0 39.186-24.66 39.186-47.109 0-23.907-14.537-47.087-39.186-47.087-24.897 0-39.45 23.18-39.45 47.087 0 22.449 12.077 47.109 39.45 47.109z" fill="#fff"></path></g></svg>

                </a>
            </div>
            </li>
</ul>


                                    <div class="icons">
                                        <h6>Follow Symfony</h6>
                                        <a href="https://github.com/symfony" target="_blank" rel="external noopener noreferrer" title="Symfony on GitHub">
                                            <i class="icon"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M8 0a8 8 0 0 0-8 8 8 8 0 0 0 5.47 7.59c.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.09-.202-.36-1.015.07-2.117 0 0 .67-.215 2.2.82a7.67 7.67 0 0 1 2-.27 7.67 7.67 0 0 1 2 .27c1.52-1.035 2.19-.82 2.19-.82.43 1.102.16 1.915.08 2.117a3.1 3.1 0 0 1 .82 2.147c0 3.073-1.87 3.75-3.65 3.947.28.24.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.14.46.55.38A7.972 7.972 0 0 0 16 8a8 8 0 0 0-8-8"></path></svg>
</i>
                                        </a>
                                        <a href="https://symfony.com/slack" target="_blank" rel="external noopener noreferrer" title="Symfony on Slack">
                                            <i class="icon"><svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312z"></path><path d="M18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312z"></path><path d="M15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"></path></svg>
</i>
                                        </a>
                                        <a href="https://twitter.com/symfony" target="_blank" rel="external noopener noreferrer" title="Symfony on Twitter">
                                            <i class="icon"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M16 3.038a6.62 6.62 0 0 1-1.885.517 3.299 3.299 0 0 0 1.443-1.816c-.634.37-1.337.64-2.085.79a3.282 3.282 0 0 0-5.593 2.99 9.307 9.307 0 0 1-6.766-3.42A3.222 3.222 0 0 0 .67 3.75c0 1.14.58 2.143 1.46 2.732a3.278 3.278 0 0 1-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22a3.336 3.336 0 0 1-1.475.056 3.29 3.29 0 0 0 3.07 2.28 6.578 6.578 0 0 1-4.85 1.359 9.332 9.332 0 0 0 5.04 1.474c6.04 0 9.34-5 9.34-9.33 0-.14 0-.28-.01-.42a6.63 6.63 0 0 0 1.64-1.7z" fill-rule="nonzero"></path></svg>
</i>
                                        </a>
                                        <a href="https://www.facebook.com/SymfonyFramework" target="_blank" rel="external noopener noreferrer" title="Symfony on Facebook">
                                            <i class="icon"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M15.117 0H.883A.883.883 0 0 0 0 .883v14.234c0 .488.395.883.883.883h7.663V9.804H6.46V7.39h2.086V5.607c0-2.066 1.262-3.19 3.106-3.19.883 0 1.642.064 1.863.094v2.16h-1.28c-1 0-1.195.48-1.195 1.18v1.54h2.39l-.31 2.42h-2.08V16h4.077a.883.883 0 0 0 .883-.883V.883A.883.883 0 0 0 15.117 0" fill-rule="nonzero"></path></svg>
</i>
                                        </a>
                                        <a href="https://www.youtube.com/user/SensioLabs" target="_blank" rel="external noopener noreferrer" title="Symfony on YouTube">
                                            <i class="icon"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M0 7.345c0-1.294.16-2.59.16-2.59s.156-1.1.636-1.587c.608-.637 1.408-.617 1.764-.684C3.84 2.36 8 2.324 8 2.324s3.362.004 5.6.166c.314.038.996.04 1.604.678.48.486.636 1.588.636 1.588S16 6.05 16 7.346v1.258c0 1.296-.16 2.59-.16 2.59s-.156 1.102-.636 1.588c-.608.638-1.29.64-1.604.678-2.238.162-5.6.166-5.6.166s-4.16-.037-5.44-.16c-.356-.067-1.156-.047-1.764-.684-.48-.487-.636-1.587-.636-1.587S0 9.9 0 8.605v-1.26zm6.348 2.73V5.58l4.323 2.255-4.32 2.24z"></path></svg>
</i>
                                        </a>
                                        <a href="https://symfonycasts.com/" target="_blank" rel="external noopener noreferrer" title="Symfony Screencasts">
                                            <i class="icon"><svg width="16" height="16" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421"><path style="fill:none" d="M0 0h300v300H0z"></path><clippath id="a"><path d="M0 0h300v300H0z"></path></clippath><g clip-path="url(#a)"><path d="M300 30c0-16.557-13.443-30-30-30H30C13.443 0 0 13.443 0 30v240c0 16.557 13.443 30 30 30h240c16.557 0 30-13.443 30-30V30z" style="fill:#111827"></path><path d="M94.679 204.481c-4.374-1.925-9.01-2.625-13.734-2.625-18.632 0-32.278 12.51-32.278 31.317 0 19.42 12.859 31.841 32.191 31.841 3.587 0 9.272-.262 13.909-2.187l-.257-4.156a3.1 3.1 0 0 0-3.988-2.776c-2.99.903-6.622 1.421-9.577 1.421-12.684 0-23.006-9.534-23.006-23.881 0-13.733 9.36-23.881 23.444-23.881 3.038 0 5.994.528 8.787 1.582a3.098 3.098 0 0 0 4.178-2.646l.331-4.009zm13.522 19.85a3.1 3.1 0 0 0 4.404 2.615c2.741-1.268 5.876-1.996 8.866-1.996 8.223 0 11.022 3.937 11.022 11.635-3.237-.175-5.511-.175-8.748-.175-8.485 0-20.732 3.499-20.732 14.696 0 9.709 6.736 13.908 16.358 13.908 7.523 0 11.897-4.111 13.822-6.823h.175v5.774h4.352a3.098 3.098 0 0 0 3.093-3.296 125.34 125.34 0 0 1-.097-5.452v-18.458c0-12.159-5.161-18.457-17.933-18.457-5.686 0-10.585 1.75-14.696 4.199l.114 1.83zm44.173 38.234c3.761 2.012 8.048 2.449 12.247 2.449 7.96 0 15.57-4.373 15.57-13.908 0-14.259-19.332-11.635-19.332-20.732 0-3.674 3.674-5.424 7.873-5.424 1.107 0 3.2.377 5.127.913a3.097 3.097 0 0 0 3.926-2.68l.307-3.131c-3.237-.963-6.386-1.75-10.235-1.75-8.835 0-15.746 4.461-15.746 13.734 0 12.509 19.333 11.809 19.333 19.944 0 4.812-4.637 6.386-8.398 6.386-1.512 0-3.954-.43-6.366-1.29a3.097 3.097 0 0 0-4.141 2.732l-.165 2.757zm71.142 0c3.761 2.012 8.048 2.449 12.247 2.449 7.96 0 15.57-4.373 15.57-13.908 0-14.259-19.332-11.635-19.332-20.732 0-3.674 3.674-5.424 7.873-5.424 1.107 0 3.2.377 5.127.913a3.097 3.097 0 0 0 3.926-2.68l.307-3.131c-3.237-.963-6.386-1.75-10.235-1.75-8.835 0-15.746 4.461-15.746 13.734 0 12.509 19.333 11.809 19.333 19.944 0 4.812-4.637 6.386-8.398 6.386-1.512 0-3.954-.43-6.366-1.29a3.097 3.097 0 0 0-4.141 2.732l-.165 2.757zm-29.36-43.213v-12.947h5.123a3.1 3.1 0 0 1 3.099 3.1v9.847h11.81v3.548a3.1 3.1 0 0 1-3.1 3.1h-8.71v24.406c0 5.161 3.15 7.96 6.911 7.96.702 0 1.351-.06 1.947-.167a3.101 3.101 0 0 1 3.652 3.05v2.541c-1.837.525-4.374 1.224-6.999 1.224-8.485 0-13.733-4.024-13.733-12.946V226h-5.052a3.1 3.1 0 0 1-3.099-3.1v-3.548h8.151zm-61.663 27.292c0 6.649-4.286 11.722-12.422 11.722-3.761 0-8.31-2.537-8.31-7.26 0-7.873 11.022-8.573 15.483-8.573 1.75 0 3.499.175 5.249.175v3.936zm136.934-67.652H30.577c-.355-.024-.449-.012-.794-.109-1.164-.326-2.062-1.423-2.145-2.636a3.007 3.007 0 0 1 1.409-2.719c.344-.209.73-.346 1.129-.401.133-.019.268-.019.401-.028H53c-7.987-7.798-9.293-17.234-7.409-23.363 2.511-8.144 8.984-9.683 15.314-7.741 6.779 2.096 9.432 10.333 7.493 16.657-.216.677-.562 1.805-1.274 3.324-.787 1.738-2.245 3.272-2.869 5.31-.693 2.253.33 4.211 2.099 5.813h27.289c1.97-1.871 3.447-4.169 4.233-6.74 2.444-7.89-2.548-13.398-4.615-15.512l-10.054-10.762c-4.598-5.12-14.713-19.398-9.779-35.432 1.904-6.184 5.91-12.742 11.724-17.083 12.275-9.147 25.621-10.648 38.327-6.995 16.448 4.729 24.347 15.602 34.59 24.005 5.735-16.818 13.683-33.283 25.635-47.176 10.794-12.652 25.297-21.822 41.908-22.39 16.596-.548 29.142 6.974 29.556 18.882.167 5.068-2.74 14.92-12.864 15.261-7.572.262-12.8-4.263-13.036-11.135-.085-2.519.566-4.724 2.292-7.301 1.688-3.304 2.049-3.683 2.006-5.12-.152-4.333-6.692-4.493-8.482-4.409-24.548.811-31.018 33.939-36.263 60.875l-2.569 14.205c14.136 2.067 24.172-.481 29.77-4.102 7.881-5.117-2.205-10.374-.933-16.191 1.288-5.931 6.683-8.794 10.969-8.914 6-.148 10.283 6.077 10.144 12.395-.216 10.444-14.069 24.793-41.783 24.207a96.847 96.847 0 0 1-9.38-.665l-5.228 28.86c-1.387 6.478-2.91 13.66-4.945 21.237h94.561l.401.028c.132.027.265.045.394.082a3.005 3.005 0 0 1 2.09 2.237c.272 1.308-.46 2.759-1.711 3.302-.246.107-.506.18-.773.217-.132.018-.267.018-.401.027zm-127.085-5.893c.469-2.383.942-4.832 1.422-7.35l1.674-10.152c2.723-13.608 5.741-28.784 10.342-43.905-11.162-8.404-17.847-18.821-32.86-22.892-10.29-2.793-16.562-.423-20.973 5.155-5.222 6.604-3.488 15.2 1.557 20.241l8.336 9.223c10.222 11.808 15.809 20.999 13.707 33.359-1.024 6.057-3.949 11.682-8.315 16.321h25.11z" style="fill:#9ca3af"></path></g></svg>
</i>
                                        </a>
                                        <a href="https://feeds.feedburner.com/symfony/blog" target="_blank" rel="external noopener noreferrer" title="Symfony Blog RSS">
                                            <i class="icon"><svg width="16" height="16" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M576 1344q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm512 123q2 28-17 48-18 21-47 21H889q-25 0-43-16.5t-20-41.5q-22-229-184.5-391.5T250 902q-25-2-41.5-20T192 839V704q0-29 21-47 17-17 43-17h5q160 13 306 80.5T826 902q114 113 181.5 259t80.5 306zm512 2q2 27-18 47-18 20-46 20h-143q-26 0-44.5-17.5T1329 1476q-12-215-101-408.5t-231.5-336-336-231.5T252 398q-25-1-42.5-19.5T192 335V192q0-28 20-46 18-18 44-18h3q262 13 501.5 120T1186 542q187 186 294 425.5t120 501.5z"></path></svg>
</i>
                                        </a>
                                    </div>

                                    <div class="theme">
                                        <form>
                                            <label for="theme-switcher">
                                                <i class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path d="M8 256c0 136.966 111.033 248 248 248s248-111.034 248-248S392.966 8 256 8 8 119.033 8 256zm248 184V72c101.705 0 184 82.311 184 184 0 101.705-82.311 184-184 184z"></path></svg>
</i>
                                            </label>
                                            <select id="theme-switcher">
                                                <option value="light-theme">Light Theme</option>
                                                <option value="dark-theme">Dark Theme</option>
                                                <option value="dynamic-theme" selected="">Dynamic (same as OS)</option>
                                            </select>
                                        </form>
                                    </div>
                                    <script async="">
                                        const availableThemes = ['light-theme', 'dark-theme', 'dynamic-theme'];
                                        const themeSwitcher = document.getElementById('theme-switcher');
                                        const currentTheme = localStorage.getItem('themeName');
                                        if (availableThemes.includes(currentTheme)) {
                                            themeSwitcher.value = currentTheme;
                                        }

                                        themeSwitcher.addEventListener('change', () => {
                                            const newTheme = themeSwitcher.value;

                                            document.body.classList.remove(...availableThemes);
                                            document.body.classList.add(newTheme);
                                            localStorage.setItem('themeName', newTheme);
                                        });
                                    </script>
                                </section>
                                                                        </div>
                </div>
            </footer>
        
        <div id="search-modal-backdrop" style="display: none">
            <div role="dialog" aria-modal="true" id="search-modal-content" tabindex="-1">
                <button aria-label="Close modal" id="search-modal-close-button">CLOSE</button>
                <form id="form-search" onsubmit="return false">
    <div class="form-group">
        <label for="form-search-input" class="sr-only visually-hidden">Search Symfony Docs</label>
                <input type="text" class="mousetrap form-control form-search-input" placeholder="Search Symfony Docs" aria-label="Search in Symfony documentation" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" onkeyup="Search.makeQuery(this.value, event.key)" onclick="event.stopPropagation()">
    </div>
    <button type="submit" class="sr-only visually-hidden">Search</button>
</form>


<div class="form-search-results-wrapper">
    <div class="form-search-results"></div>
    <div class="form-search-results-footer">
        Search by <a target="_blank" href="https://algolia.com/?utm_source=symfony&amp;utm_medium=link&amp;utm_campaign=symfony_documentation">Algolia</a>
    </div>
</div>

            </div>
        </div>

        <script>
                        document.body.classList.add();
        </script>
    

</body></html>